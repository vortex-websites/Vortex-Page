import "./chunk-FJLWZCXQ.js";

// node_modules/posthog-js/dist/es.js
function e(e6, t2) {
  var n2 = Object.keys(e6);
  if (Object.getOwnPropertySymbols) {
    var r2 = Object.getOwnPropertySymbols(e6);
    t2 && (r2 = r2.filter(function(t3) {
      return Object.getOwnPropertyDescriptor(e6, t3).enumerable;
    })), n2.push.apply(n2, r2);
  }
  return n2;
}
function t(t2) {
  for (var n2 = 1; n2 < arguments.length; n2++) {
    var r2 = null != arguments[n2] ? arguments[n2] : {};
    n2 % 2 ? e(Object(r2), true).forEach(function(e6) {
      s(t2, e6, r2[e6]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t2, Object.getOwnPropertyDescriptors(r2)) : e(Object(r2)).forEach(function(e6) {
      Object.defineProperty(t2, e6, Object.getOwnPropertyDescriptor(r2, e6));
    });
  }
  return t2;
}
function n(e6) {
  return n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e7) {
    return typeof e7;
  } : function(e7) {
    return e7 && "function" == typeof Symbol && e7.constructor === Symbol && e7 !== Symbol.prototype ? "symbol" : typeof e7;
  }, n(e6);
}
function r(e6, t2) {
  if (!(e6 instanceof t2))
    throw new TypeError("Cannot call a class as a function");
}
function i(e6, t2) {
  for (var n2 = 0; n2 < t2.length; n2++) {
    var r2 = t2[n2];
    r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e6, r2.key, r2);
  }
}
function o(e6, t2, n2) {
  return t2 && i(e6.prototype, t2), n2 && i(e6, n2), Object.defineProperty(e6, "prototype", { writable: false }), e6;
}
function s(e6, t2, n2) {
  return t2 in e6 ? Object.defineProperty(e6, t2, { value: n2, enumerable: true, configurable: true, writable: true }) : e6[t2] = n2, e6;
}
function a(e6, t2) {
  if ("function" != typeof t2 && null !== t2)
    throw new TypeError("Super expression must either be null or a function");
  e6.prototype = Object.create(t2 && t2.prototype, { constructor: { value: e6, writable: true, configurable: true } }), Object.defineProperty(e6, "prototype", { writable: false }), t2 && u(e6, t2);
}
function c(e6) {
  return c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e7) {
    return e7.__proto__ || Object.getPrototypeOf(e7);
  }, c(e6);
}
function u(e6, t2) {
  return u = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e7, t3) {
    return e7.__proto__ = t3, e7;
  }, u(e6, t2);
}
function l(e6, t2) {
  if (null == e6)
    return {};
  var n2, r2, i2 = function(e7, t3) {
    if (null == e7)
      return {};
    var n3, r3, i3 = {}, o3 = Object.keys(e7);
    for (r3 = 0; r3 < o3.length; r3++)
      n3 = o3[r3], t3.indexOf(n3) >= 0 || (i3[n3] = e7[n3]);
    return i3;
  }(e6, t2);
  if (Object.getOwnPropertySymbols) {
    var o2 = Object.getOwnPropertySymbols(e6);
    for (r2 = 0; r2 < o2.length; r2++)
      n2 = o2[r2], t2.indexOf(n2) >= 0 || Object.prototype.propertyIsEnumerable.call(e6, n2) && (i2[n2] = e6[n2]);
  }
  return i2;
}
function d(e6, t2) {
  if (t2 && ("object" == typeof t2 || "function" == typeof t2))
    return t2;
  if (void 0 !== t2)
    throw new TypeError("Derived constructors may only return object or undefined");
  return function(e7) {
    if (void 0 === e7)
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return e7;
  }(e6);
}
function p(e6) {
  var t2 = function() {
    if ("undefined" == typeof Reflect || !Reflect.construct)
      return false;
    if (Reflect.construct.sham)
      return false;
    if ("function" == typeof Proxy)
      return true;
    try {
      return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
      })), true;
    } catch (e7) {
      return false;
    }
  }();
  return function() {
    var n2, r2 = c(e6);
    if (t2) {
      var i2 = c(this).constructor;
      n2 = Reflect.construct(r2, arguments, i2);
    } else
      n2 = r2.apply(this, arguments);
    return d(this, n2);
  };
}
function f(e6, t2) {
  return function(e7) {
    if (Array.isArray(e7))
      return e7;
  }(e6) || function(e7, t3) {
    var n2 = null == e7 ? null : "undefined" != typeof Symbol && e7[Symbol.iterator] || e7["@@iterator"];
    if (null == n2)
      return;
    var r2, i2, o2 = [], s2 = true, a2 = false;
    try {
      for (n2 = n2.call(e7); !(s2 = (r2 = n2.next()).done) && (o2.push(r2.value), !t3 || o2.length !== t3); s2 = true)
        ;
    } catch (e8) {
      a2 = true, i2 = e8;
    } finally {
      try {
        s2 || null == n2.return || n2.return();
      } finally {
        if (a2)
          throw i2;
      }
    }
    return o2;
  }(e6, t2) || _(e6, t2) || function() {
    throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }();
}
function h(e6) {
  return function(e7) {
    if (Array.isArray(e7))
      return g(e7);
  }(e6) || function(e7) {
    if ("undefined" != typeof Symbol && null != e7[Symbol.iterator] || null != e7["@@iterator"])
      return Array.from(e7);
  }(e6) || _(e6) || function() {
    throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }();
}
function _(e6, t2) {
  if (e6) {
    if ("string" == typeof e6)
      return g(e6, t2);
    var n2 = Object.prototype.toString.call(e6).slice(8, -1);
    return "Object" === n2 && e6.constructor && (n2 = e6.constructor.name), "Map" === n2 || "Set" === n2 ? Array.from(e6) : "Arguments" === n2 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2) ? g(e6, t2) : void 0;
  }
}
function g(e6, t2) {
  (null == t2 || t2 > e6.length) && (t2 = e6.length);
  for (var n2 = 0, r2 = new Array(t2); n2 < t2; n2++)
    r2[n2] = e6[n2];
  return r2;
}
function v(e6, t2) {
  var n2 = "undefined" != typeof Symbol && e6[Symbol.iterator] || e6["@@iterator"];
  if (!n2) {
    if (Array.isArray(e6) || (n2 = _(e6)) || t2 && e6 && "number" == typeof e6.length) {
      n2 && (e6 = n2);
      var r2 = 0, i2 = function() {
      };
      return { s: i2, n: function() {
        return r2 >= e6.length ? { done: true } : { done: false, value: e6[r2++] };
      }, e: function(e7) {
        throw e7;
      }, f: i2 };
    }
    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }
  var o2, s2 = true, a2 = false;
  return { s: function() {
    n2 = n2.call(e6);
  }, n: function() {
    var e7 = n2.next();
    return s2 = e7.done, e7;
  }, e: function(e7) {
    a2 = true, o2 = e7;
  }, f: function() {
    try {
      s2 || null == n2.return || n2.return();
    } finally {
      if (a2)
        throw o2;
    }
  } };
}
var y = { DEBUG: false, LIB_VERSION: "1.63.3" };
var m = Array.prototype;
var b = Object.prototype;
var w = b.toString;
var k = b.hasOwnProperty;
var S = "undefined" != typeof window ? window : {};
var F = S.navigator || { userAgent: "" };
var E = S.document || {};
var x = F.userAgent;
var O = ["localhost", "127.0.0.1"];
var P = m.forEach;
var I = m.indexOf;
var $ = Array.isArray;
var T = {};
var R = { log: function() {
  if (y.DEBUG && !L(window.console) && window.console) {
    for (var e6 = ("__rrweb_original__" in window.console.log) ? window.console.log.__rrweb_original__ : window.console.log, t2 = arguments.length, n2 = new Array(t2), r2 = 0; r2 < t2; r2++)
      n2[r2] = arguments[r2];
    try {
      e6.apply(window.console, n2);
    } catch (t3) {
      M(n2, function(t4) {
        e6(t4);
      });
    }
  }
}, error: function() {
  if (y.DEBUG && !L(window.console) && window.console) {
    for (var e6 = arguments.length, t2 = new Array(e6), n2 = 0; n2 < e6; n2++)
      t2[n2] = arguments[n2];
    var r2 = ["PostHog error:"].concat(t2), i2 = "__rrweb_original__" in window.console.error ? window.console.error.__rrweb_original__ : window.console.error;
    try {
      i2.apply(window.console, r2);
    } catch (e7) {
      M(r2, function(e8) {
        i2(e8);
      });
    }
  }
}, critical: function() {
  if (!L(window.console) && window.console) {
    for (var e6 = arguments.length, t2 = new Array(e6), n2 = 0; n2 < e6; n2++)
      t2[n2] = arguments[n2];
    var r2 = ["PostHog error:"].concat(t2), i2 = "__rrweb_original__" in window.console.error ? window.console.error.__rrweb_original__ : window.console.error;
    try {
      i2.apply(window.console, r2);
    } catch (e7) {
      M(r2, function(e8) {
        i2(e8);
      });
    }
  }
} };
var A = function(e6) {
  return e6.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "");
};
function M(e6, t2, n2) {
  if (Array.isArray(e6)) {
    if (P && e6.forEach === P)
      e6.forEach(t2, n2);
    else if ("length" in e6 && e6.length === +e6.length) {
      for (var r2 = 0, i2 = e6.length; r2 < i2; r2++)
        if (r2 in e6 && t2.call(n2, e6[r2], r2) === T)
          return;
    }
  }
}
function C(e6, t2, n2) {
  if (null != e6) {
    if (Array.isArray(e6))
      return M(e6, t2, n2);
    for (var r2 in e6)
      if (k.call(e6, r2) && t2.call(n2, e6[r2], r2) === T)
        return;
  }
}
var j = function(e6) {
  for (var t2 = arguments.length, n2 = new Array(t2 > 1 ? t2 - 1 : 0), r2 = 1; r2 < t2; r2++)
    n2[r2 - 1] = arguments[r2];
  return M(n2, function(t3) {
    for (var n3 in t3)
      void 0 !== t3[n3] && (e6[n3] = t3[n3]);
  }), e6;
};
var D = $ || function(e6) {
  return "[object Array]" === w.call(e6);
};
var N = function(e6) {
  try {
    return /^\s*\bfunction\b/.test(e6);
  } catch (e7) {
    return false;
  }
};
function q(e6, t2) {
  return -1 !== e6.indexOf(t2);
}
var H = function(e6) {
  return e6 === Object(e6) && !D(e6);
};
var L = function(e6) {
  return void 0 === e6;
};
var B = function(e6) {
  return "[object String]" == w.call(e6);
};
var U = function(e6) {
  return "[object Number]" == w.call(e6);
};
var V = function e2(t2) {
  return C(t2, function(n2, r2) {
    !function(e6) {
      return "[object Date]" == w.call(e6);
    }(n2) ? H(n2) && (t2[r2] = e2(n2)) : t2[r2] = G(n2);
  }), t2;
};
var G = function(e6) {
  function t2(e7) {
    return e7 < 10 ? "0" + e7 : e7;
  }
  return e6.getUTCFullYear() + "-" + t2(e6.getUTCMonth() + 1) + "-" + t2(e6.getUTCDate()) + "T" + t2(e6.getUTCHours()) + ":" + t2(e6.getUTCMinutes()) + ":" + t2(e6.getUTCSeconds());
};
var W = function(e6) {
  return function() {
    try {
      for (var t2 = arguments.length, n2 = new Array(t2), r2 = 0; r2 < t2; r2++)
        n2[r2] = arguments[r2];
      return e6.apply(this, n2);
    } catch (e7) {
      R.critical("Implementation error. Please turn on debug and contact support@posthog.com."), R.critical(e7);
    }
  };
};
var z = function(e6) {
  var t2 = {};
  return C(e6, function(e7, n2) {
    B(e7) && e7.length > 0 && (t2[n2] = e7);
  }), t2;
};
var Q = ["$performance_raw"];
function J(e6, t2) {
  return n2 = e6, r2 = function(e7, n3) {
    return n3 && Q.indexOf(n3) > -1 ? e7 : "string" == typeof e7 && null !== t2 ? e7.slice(0, t2) : e7;
  }, i2 = /* @__PURE__ */ new Set(), function e7(t3, n3) {
    return t3 !== Object(t3) ? r2 ? r2(t3, n3) : t3 : i2.has(t3) ? void 0 : (i2.add(t3), D(t3) ? (o2 = [], M(t3, function(t4) {
      o2.push(e7(t4));
    })) : (o2 = {}, C(t3, function(t4, n4) {
      i2.has(t4) || (o2[n4] = e7(t4, n4));
    })), o2);
    var o2;
  }(n2);
  var n2, r2, i2;
}
function X(e6) {
  var t2, n2, r2, i2, o2, s2 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", a2 = 0, c2 = 0, u2 = "", l2 = [];
  if (!e6)
    return e6;
  e6 = Y(e6);
  do {
    t2 = (o2 = e6.charCodeAt(a2++) << 16 | e6.charCodeAt(a2++) << 8 | e6.charCodeAt(a2++)) >> 18 & 63, n2 = o2 >> 12 & 63, r2 = o2 >> 6 & 63, i2 = 63 & o2, l2[c2++] = s2.charAt(t2) + s2.charAt(n2) + s2.charAt(r2) + s2.charAt(i2);
  } while (a2 < e6.length);
  switch (u2 = l2.join(""), e6.length % 3) {
    case 1:
      u2 = u2.slice(0, -2) + "==";
      break;
    case 2:
      u2 = u2.slice(0, -1) + "=";
  }
  return u2;
}
var Z;
var Y = function(e6) {
  var t2, n2, r2, i2, o2 = "";
  for (t2 = n2 = 0, r2 = (e6 = (e6 + "").replace(/\r\n/g, "\n").replace(/\r/g, "\n")).length, i2 = 0; i2 < r2; i2++) {
    var s2 = e6.charCodeAt(i2), a2 = null;
    s2 < 128 ? n2++ : a2 = s2 > 127 && s2 < 2048 ? String.fromCharCode(s2 >> 6 | 192, 63 & s2 | 128) : String.fromCharCode(s2 >> 12 | 224, s2 >> 6 & 63 | 128, 63 & s2 | 128), null !== a2 && (n2 > t2 && (o2 += e6.substring(t2, n2)), o2 += a2, t2 = n2 = i2 + 1);
  }
  return n2 > t2 && (o2 += e6.substring(t2, e6.length)), o2;
};
var K = (Z = function() {
  for (var e6 = new Date().valueOf(), t2 = 0; e6 == new Date().valueOf(); )
    t2++;
  return e6.toString(16) + t2.toString(16);
}, function() {
  var e6 = "undefined" != typeof window ? (window.screen.height * window.screen.width).toString(16) : "0";
  return Z() + "-" + Math.random().toString(16).replace(".", "") + "-" + function() {
    var e7, t2, n2 = x, r2 = 0, i2 = [];
    function o2(e8, t3) {
      var n3, r3 = 0;
      for (n3 = 0; n3 < t3.length; n3++)
        r3 |= i2[n3] << 8 * n3;
      return e8 ^ r3;
    }
    for (e7 = 0; e7 < n2.length; e7++)
      t2 = n2.charCodeAt(e7), i2.unshift(255 & t2), i2.length >= 4 && (r2 = o2(r2, i2), i2 = []);
    return i2.length > 0 && (r2 = o2(r2, i2)), r2.toString(16);
  }() + "-" + e6 + "-" + Z();
});
var ee = function(e6) {
  return !!/(google web preview|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp|ahrefsbot|facebookexternalhit|facebookcatalog|applebot|semrushbot|duckduckbot|twitterbot|rogerbot|linkedinbot|mj12bot|sitebulb|bot.htm|bot.php|hubspot|crawler)/i.test(e6);
};
var te = function(e6, t2) {
  var n2 = t2.replace(/[[]/, "\\[").replace(/[\]]/, "\\]"), r2 = new RegExp("[\\?&]" + n2 + "=([^&#]*)").exec(e6);
  if (null === r2 || r2 && "string" != typeof r2[1] && r2[1].length)
    return "";
  var i2 = r2[1];
  try {
    i2 = decodeURIComponent(i2);
  } catch (e7) {
    R.error("Skipping decoding for malformed query param: " + i2);
  }
  return i2.replace(/\+/g, " ");
};
var ne = function(e6, t2) {
  var n2 = e6.match(new RegExp(t2 + "=([^&]*)"));
  return n2 ? n2[1] : null;
};
var re = function() {
  function e6(t2) {
    return t2 && (t2.preventDefault = e6.preventDefault, t2.stopPropagation = e6.stopPropagation), t2;
  }
  return e6.preventDefault = function() {
    this.returnValue = false;
  }, e6.stopPropagation = function() {
    this.cancelBubble = true;
  }, function(t2, n2, r2, i2, o2) {
    if (t2)
      if (t2.addEventListener && !i2)
        t2.addEventListener(n2, r2, !!o2);
      else {
        var s2 = "on" + n2, a2 = t2[s2];
        t2[s2] = function(t3, n3, r3) {
          return function(i3) {
            if (i3 = i3 || e6(window.event)) {
              var o3, s3 = true;
              N(r3) && (o3 = r3(i3));
              var a3 = n3.call(t3, i3);
              return false !== o3 && false !== a3 || (s3 = false), s3;
            }
          };
        }(t2, r2, a2);
      }
    else
      R.error("No valid element provided to register_event");
  };
}();
function ie(e6, t2) {
  var n2 = function() {
    var n3 = E.createElement("script");
    n3.type = "text/javascript", n3.src = e6, n3.onload = function(e7) {
      return t2(void 0, e7);
    }, n3.onerror = function(e7) {
      return t2(e7);
    };
    var r2, i2 = E.querySelectorAll("body > script");
    i2.length > 0 ? null === (r2 = i2[0].parentNode) || void 0 === r2 || r2.insertBefore(n3, i2[0]) : E.body.appendChild(n3);
  };
  E.body ? n2() : E.addEventListener("DOMContentLoaded", n2);
}
var oe = { campaignParams: function(e6) {
  var t2 = ["utm_source", "utm_medium", "utm_campaign", "utm_content", "utm_term", "gclid", "fbclid", "msclkid"].concat(e6 || []), n2 = {};
  return C(t2, function(e7) {
    var t3 = te(E.URL, e7);
    t3.length && (n2[e7] = t3);
  }), n2;
}, searchEngine: function() {
  var e6 = E.referrer;
  return e6 ? 0 === e6.search("https?://(.*)google.([^/?]*)") ? "google" : 0 === e6.search("https?://(.*)bing.com") ? "bing" : 0 === e6.search("https?://(.*)yahoo.com") ? "yahoo" : 0 === e6.search("https?://(.*)duckduckgo.com") ? "duckduckgo" : null : null;
}, searchInfo: function() {
  var e6 = oe.searchEngine(), t2 = "yahoo" != e6 ? "q" : "p", n2 = {};
  if (null !== e6) {
    n2.$search_engine = e6;
    var r2 = te(E.referrer, t2);
    r2.length && (n2.ph_keyword = r2);
  }
  return n2;
}, browser: function(e6, t2, n2) {
  return t2 = t2 || "", n2 || q(e6, " OPR/") ? q(e6, "Mini") ? "Opera Mini" : "Opera" : /(BlackBerry|PlayBook|BB10)/i.test(e6) ? "BlackBerry" : q(e6, "IEMobile") || q(e6, "WPDesktop") ? "Internet Explorer Mobile" : q(e6, "SamsungBrowser/") ? "Samsung Internet" : q(e6, "Edge") || q(e6, "Edg/") ? "Microsoft Edge" : q(e6, "FBIOS") ? "Facebook Mobile" : q(e6, "Chrome") ? "Chrome" : q(e6, "CriOS") ? "Chrome iOS" : q(e6, "UCWEB") || q(e6, "UCBrowser") ? "UC Browser" : q(e6, "FxiOS") ? "Firefox iOS" : q(t2, "Apple") ? q(e6, "Mobile") ? "Mobile Safari" : "Safari" : q(e6, "Android") ? "Android Mobile" : q(e6, "Konqueror") ? "Konqueror" : q(e6, "Firefox") ? "Firefox" : q(e6, "MSIE") || q(e6, "Trident/") ? "Internet Explorer" : q(e6, "Gecko") ? "Mozilla" : "";
}, browserVersion: function(e6, t2, n2) {
  var r2 = { "Internet Explorer Mobile": /rv:(\d+(\.\d+)?)/, "Microsoft Edge": /Edge?\/(\d+(\.\d+)?)/, Chrome: /Chrome\/(\d+(\.\d+)?)/, "Chrome iOS": /CriOS\/(\d+(\.\d+)?)/, "UC Browser": /(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/, Safari: /Version\/(\d+(\.\d+)?)/, "Mobile Safari": /Version\/(\d+(\.\d+)?)/, Opera: /(Opera|OPR)\/(\d+(\.\d+)?)/, Firefox: /Firefox\/(\d+(\.\d+)?)/, "Firefox iOS": /FxiOS\/(\d+(\.\d+)?)/, Konqueror: /Konqueror:(\d+(\.\d+)?)/, BlackBerry: /BlackBerry (\d+(\.\d+)?)/, "Android Mobile": /android\s(\d+(\.\d+)?)/, "Samsung Internet": /SamsungBrowser\/(\d+(\.\d+)?)/, "Internet Explorer": /(rv:|MSIE )(\d+(\.\d+)?)/, Mozilla: /rv:(\d+(\.\d+)?)/ }[oe.browser(e6, t2, n2)];
  if (void 0 === r2)
    return null;
  var i2 = e6.match(r2);
  return i2 ? parseFloat(i2[i2.length - 2]) : null;
}, browserLanguage: function() {
  return F.language || F.userLanguage;
}, os: function(e6) {
  if (/Windows/i.test(e6)) {
    if (/Phone/.test(e6) || /WPDesktop/.test(e6))
      return { os_name: "Windows Phone", os_version: "" };
    var t2 = /Windows NT ([0-9.]+)/i.exec(e6);
    return t2 && t2[1] ? { os_name: "Windows", os_version: t2[1] } : { os_name: "Windows", os_version: "" };
  }
  if (/(iPhone|iPad|iPod)/.test(e6)) {
    var n2 = /OS (\d+)_(\d+)_?(\d+)?/i.exec(e6);
    return n2 && n2[1] ? { os_name: "iOS", os_version: [n2[1], n2[2], n2[3] || "0"].join(".") } : { os_name: "iOS", os_version: "" };
  }
  if (/Android/.test(e6)) {
    var r2 = /Android (\d+)\.(\d+)\.?(\d+)?/i.exec(e6);
    return r2 && r2[1] ? { os_name: "Android", os_version: [r2[1], r2[2], r2[3] || "0"].join(".") } : { os_name: "Android", os_version: "" };
  }
  if (/(BlackBerry|PlayBook|BB10)/i.test(e6))
    return { os_name: "BlackBerry", os_version: "" };
  if (/Mac/i.test(e6)) {
    var i2 = /Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i.exec(e6);
    return i2 && i2[1] ? { os_name: "Mac OS X", os_version: [i2[1], i2[2], i2[3] || "0"].join(".") } : { os_name: "Mac OS X", os_version: "" };
  }
  return /Linux/.test(e6) ? { os_name: "Linux", os_version: "" } : /CrOS/.test(e6) ? { os_name: "Chrome OS", os_version: "" } : { os_name: "", os_version: "" };
}, device: function(e6) {
  return /Windows Phone/i.test(e6) || /WPDesktop/.test(e6) ? "Windows Phone" : /iPad/.test(e6) ? "iPad" : /iPod/.test(e6) ? "iPod Touch" : /iPhone/.test(e6) ? "iPhone" : /(BlackBerry|PlayBook|BB10)/i.test(e6) ? "BlackBerry" : /Android/.test(e6) && !/Mobile/.test(e6) ? "Android Tablet" : /Android/.test(e6) ? "Android" : "";
}, deviceType: function(e6) {
  var t2 = this.device(e6);
  return "iPad" === t2 || "Android Tablet" === t2 ? "Tablet" : t2 ? "Mobile" : "Desktop";
}, referrer: function() {
  return E.referrer || "$direct";
}, referringDomain: function() {
  if (!E.referrer)
    return "$direct";
  var e6 = E.createElement("a");
  return e6.href = E.referrer, e6.host;
}, properties: function() {
  var e6 = oe.os(x), t2 = e6.os_name, n2 = e6.os_version;
  return j(z({ $os: t2, $os_version: n2, $browser: oe.browser(x, F.vendor, S.opera), $device: oe.device(x), $device_type: oe.deviceType(x) }), { $current_url: null == S ? void 0 : S.location.href, $host: null == S ? void 0 : S.location.host, $pathname: null == S ? void 0 : S.location.pathname, $browser_version: oe.browserVersion(x, F.vendor, S.opera), $browser_language: oe.browserLanguage(), $screen_height: null == S ? void 0 : S.screen.height, $screen_width: null == S ? void 0 : S.screen.width, $viewport_height: null == S ? void 0 : S.innerHeight, $viewport_width: null == S ? void 0 : S.innerWidth, $lib: "web", $lib_version: y.LIB_VERSION, $insert_id: Math.random().toString(36).substring(2, 10) + Math.random().toString(36).substring(2, 10), $time: (Date.now = Date.now || function() {
    return +new Date();
  }, Date.now() / 1e3) });
}, people_properties: function() {
  var e6 = oe.os(x), t2 = e6.os_name, n2 = e6.os_version;
  return j(z({ $os: t2, $os_version: n2, $browser: oe.browser(x, F.vendor, S.opera) }), { $browser_version: oe.browserVersion(x, F.vendor, S.opera) });
} };
function se(e6) {
  switch (n(e6.className)) {
    case "string":
      return e6.className;
    case "object":
      return ("baseVal" in e6.className ? e6.className.baseVal : null) || e6.getAttribute("class") || "";
    default:
      return "";
  }
}
function ae(e6) {
  var t2 = "";
  return fe(e6) && !he(e6) && e6.childNodes && e6.childNodes.length && C(e6.childNodes, function(e7) {
    le(e7) && e7.textContent && (t2 += A(e7.textContent).split(/(\s+)/).filter(_e).join("").replace(/[\r\n]/g, " ").replace(/[ ]+/g, " ").substring(0, 255));
  }), A(t2);
}
function ce(e6) {
  return !!e6 && 1 === e6.nodeType;
}
function ue(e6, t2) {
  return !!e6 && !!e6.tagName && e6.tagName.toLowerCase() === t2.toLowerCase();
}
function le(e6) {
  return !!e6 && 3 === e6.nodeType;
}
function de(e6) {
  return !!e6 && 11 === e6.nodeType;
}
var pe = ["a", "button", "form", "input", "select", "textarea", "label"];
function fe(e6) {
  for (var t2 = e6; t2.parentNode && !ue(t2, "body"); t2 = t2.parentNode) {
    var n2 = se(t2).split(" ");
    if (q(n2, "ph-sensitive") || q(n2, "ph-no-capture"))
      return false;
  }
  if (q(se(e6).split(" "), "ph-include"))
    return true;
  var r2 = e6.type || "";
  if ("string" == typeof r2)
    switch (r2.toLowerCase()) {
      case "hidden":
      case "password":
        return false;
    }
  var i2 = e6.name || e6.id || "";
  if ("string" == typeof i2) {
    if (/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i2.replace(/[^a-zA-Z0-9]/g, "")))
      return false;
  }
  return true;
}
function he(e6) {
  return !!(ue(e6, "input") && !["button", "checkbox", "submit", "reset"].includes(e6.type) || ue(e6, "select") || ue(e6, "textarea") || "true" === e6.getAttribute("contenteditable"));
}
function _e(e6) {
  if (null === e6 || L(e6))
    return false;
  if ("string" == typeof e6) {
    e6 = A(e6);
    if (/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((e6 || "").replace(/[- ]/g, "")))
      return false;
    if (/(^\d{3}-?\d{2}-?\d{4}$)/.test(e6))
      return false;
  }
  return true;
}
function ge(e6) {
  var t2 = ae(e6);
  return _e(t2 = "".concat(t2, " ").concat(ve(e6)).trim()) ? t2 : "";
}
function ve(e6) {
  var t2 = "";
  return e6 && e6.childNodes && e6.childNodes.length && C(e6.childNodes, function(e7) {
    var n2;
    if (e7 && "span" === (null === (n2 = e7.tagName) || void 0 === n2 ? void 0 : n2.toLowerCase()))
      try {
        var r2 = ae(e7);
        t2 = "".concat(t2, " ").concat(r2).trim(), e7.childNodes && e7.childNodes.length && (t2 = "".concat(t2, " ").concat(ve(e7)).trim());
      } catch (e8) {
        console.error(e8);
      }
  }), t2;
}
var ye = function() {
  function e6(t2) {
    r(this, e6), this.clicks = [], this.enabled = t2;
  }
  return o(e6, [{ key: "isRageClick", value: function(e7, t2, n2) {
    if (!this.enabled)
      return false;
    var r2 = this.clicks[this.clicks.length - 1];
    if (r2 && Math.abs(e7 - r2.x) + Math.abs(t2 - r2.y) < 30 && n2 - r2.timestamp < 1e3) {
      if (this.clicks.push({ x: e7, y: t2, timestamp: n2 }), 3 === this.clicks.length)
        return true;
    } else
      this.clicks = [{ x: e7, y: t2, timestamp: n2 }];
    return false;
  } }]), e6;
}();
var me = /[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i;
var be = { is_supported: function() {
  return true;
}, error: function(e6) {
  R.error("cookieStore error: " + e6);
}, get: function(e6) {
  try {
    for (var t2 = e6 + "=", n2 = document.cookie.split(";"), r2 = 0; r2 < n2.length; r2++) {
      for (var i2 = n2[r2]; " " == i2.charAt(0); )
        i2 = i2.substring(1, i2.length);
      if (0 === i2.indexOf(t2))
        return decodeURIComponent(i2.substring(t2.length, i2.length));
    }
  } catch (e7) {
  }
  return null;
}, parse: function(e6) {
  var t2;
  try {
    t2 = JSON.parse(be.get(e6)) || {};
  } catch (e7) {
  }
  return t2;
}, set: function(e6, t2, n2, r2, i2) {
  try {
    var o2 = "", s2 = "", a2 = "";
    if (r2) {
      var c2 = document.location.hostname.match(me), u2 = c2 ? c2[0] : "";
      o2 = u2 ? "; domain=." + u2 : "";
    }
    if (n2) {
      var l2 = new Date();
      l2.setTime(l2.getTime() + 24 * n2 * 60 * 60 * 1e3), s2 = "; expires=" + l2.toUTCString();
    }
    i2 && (a2 = "; secure");
    var d2 = e6 + "=" + encodeURIComponent(JSON.stringify(t2)) + s2 + "; SameSite=Lax; path=/" + o2 + a2;
    return document.cookie = d2, d2;
  } catch (e7) {
    return;
  }
}, remove: function(e6, t2) {
  try {
    be.set(e6, "", -1, t2);
  } catch (e7) {
    return;
  }
} };
var we = null;
var ke = { is_supported: function() {
  if (null !== we)
    return we;
  var e6 = true;
  if ("undefined" != typeof window)
    try {
      var t2 = "__mplssupport__";
      ke.set(t2, "xyz"), '"xyz"' !== ke.get(t2) && (e6 = false), ke.remove(t2);
    } catch (t3) {
      e6 = false;
    }
  else
    e6 = false;
  return e6 || R.error("localStorage unsupported; falling back to cookie store"), we = e6, e6;
}, error: function(e6) {
  R.error("localStorage error: " + e6);
}, get: function(e6) {
  try {
    return window.localStorage.getItem(e6);
  } catch (e7) {
    ke.error(e7);
  }
  return null;
}, parse: function(e6) {
  try {
    return JSON.parse(ke.get(e6)) || {};
  } catch (e7) {
  }
  return null;
}, set: function(e6, t2) {
  try {
    window.localStorage.setItem(e6, JSON.stringify(t2));
  } catch (e7) {
    ke.error(e7);
  }
}, remove: function(e6) {
  try {
    window.localStorage.removeItem(e6);
  } catch (e7) {
    ke.error(e7);
  }
} };
var Se = t(t({}, ke), {}, { parse: function(e6) {
  try {
    var t2 = {};
    try {
      (t2 = be.parse(e6) || {}).distinct_id && be.set(e6, { distinct_id: t2.distinct_id });
    } catch (e7) {
    }
    var n2 = j(t2, JSON.parse(ke.get(e6) || "{}"));
    return ke.set(e6, n2), n2;
  } catch (e7) {
  }
  return null;
}, set: function(e6, t2, n2, r2, i2) {
  try {
    ke.set(e6, t2), t2.distinct_id && be.set(e6, { distinct_id: t2.distinct_id }, n2, r2, i2);
  } catch (e7) {
    ke.error(e7);
  }
}, remove: function(e6, t2) {
  try {
    window.localStorage.removeItem(e6), be.remove(e6, t2);
  } catch (e7) {
    ke.error(e7);
  }
} });
var Fe = {};
var Ee = { is_supported: function() {
  return true;
}, error: function(e6) {
  R.error("memoryStorage error: " + e6);
}, get: function(e6) {
  return Fe[e6] || null;
}, parse: function(e6) {
  return Fe[e6] || null;
}, set: function(e6, t2) {
  Fe[e6] = t2;
}, remove: function(e6) {
  delete Fe[e6];
} };
var xe = null;
var Oe = { is_supported: function() {
  if (null !== xe)
    return xe;
  if (xe = true, "undefined" != typeof window)
    try {
      var e6 = "__support__";
      Oe.set(e6, "xyz"), '"xyz"' !== Oe.get(e6) && (xe = false), Oe.remove(e6);
    } catch (e7) {
      xe = false;
    }
  else
    xe = false;
  return xe;
}, error: function(e6) {
  y.DEBUG && R.error("sessionStorage error: ", e6);
}, get: function(e6) {
  try {
    return window.sessionStorage.getItem(e6);
  } catch (e7) {
    Oe.error(e7);
  }
  return null;
}, parse: function(e6) {
  try {
    return JSON.parse(Oe.get(e6)) || null;
  } catch (e7) {
  }
  return null;
}, set: function(e6, t2) {
  try {
    window.sessionStorage.setItem(e6, JSON.stringify(t2));
  } catch (e7) {
    Oe.error(e7);
  }
}, remove: function(e6) {
  try {
    window.sessionStorage.removeItem(e6);
  } catch (e7) {
    Oe.error(e7);
  }
} };
var Pe = "$people_distinct_id";
var Ie = "__alias";
var $e = "__timers";
var Te = "$autocapture_disabled_server_side";
var Re = "$session_recording_enabled_server_side";
var Ae = "$console_log_recording_enabled_server_side";
var Me = "$session_recording_recorder_version_server_side";
var Ce = "$sesid";
var je = "$enabled_feature_flags";
var De = "$early_access_features";
var Ne = "$stored_person_properties";
var qe = "$stored_group_properties";
var He = "$user_state";
var Le = [Pe, Ie, "__cmpns", $e, Re, Ce, je, He, De, qe, Ne];
var Be = ["cookie", "localstorage", "localstorage+cookie", "sessionstorage", "memory"];
var Ue = function() {
  function e6(t2) {
    r(this, e6);
    var n2 = "";
    t2.token && (n2 = t2.token.replace(/\+/g, "PL").replace(/\//g, "SL").replace(/=/g, "EQ")), this.props = {}, this.campaign_params_saved = false, this.custom_campaign_params = t2.custom_campaign_params || [], t2.persistence_name ? this.name = "ph_" + t2.persistence_name : this.name = "ph_" + n2 + "_posthog", -1 === Be.indexOf(t2.persistence.toLowerCase()) && (R.critical("Unknown persistence type " + t2.persistence + "; falling back to cookie"), t2.persistence = "cookie");
    var i2 = t2.persistence.toLowerCase();
    "localstorage" === i2 && ke.is_supported() ? this.storage = ke : "localstorage+cookie" === i2 && Se.is_supported() ? this.storage = Se : "sessionstorage" === i2 && Oe.is_supported() ? this.storage = Oe : this.storage = "memory" === i2 ? Ee : be, this.user_state = "anonymous", this.load(), this.update_config(t2), this.save();
  }
  return o(e6, [{ key: "properties", value: function() {
    var e7 = {};
    return C(this.props, function(t2, r2) {
      if (r2 === je && "object" === n(t2))
        for (var i2 = Object.keys(t2), o2 = 0; o2 < i2.length; o2++)
          e7["$feature/".concat(i2[o2])] = t2[i2[o2]];
      else
        a2 = r2, c2 = false, (null === (s2 = Le) ? c2 : I && s2.indexOf === I ? -1 != s2.indexOf(a2) : (C(s2, function(e8) {
          if (c2 || (c2 = e8 === a2))
            return T;
        }), c2)) || (e7[r2] = t2);
      var s2, a2, c2;
    }), e7;
  } }, { key: "load", value: function() {
    if (!this.disabled) {
      var e7 = this.storage.parse(this.name);
      e7 && (this.props = j({}, e7));
    }
  } }, { key: "save", value: function() {
    this.disabled || this.storage.set(this.name, this.props, this.expire_days, this.cross_subdomain, this.secure);
  } }, { key: "remove", value: function() {
    this.storage.remove(this.name, false), this.storage.remove(this.name, true);
  } }, { key: "clear", value: function() {
    this.remove(), this.props = {};
  } }, { key: "register_once", value: function(e7, t2, n2) {
    var r2 = this;
    if (H(e7)) {
      void 0 === t2 && (t2 = "None"), this.expire_days = void 0 === n2 ? this.default_expiry : n2;
      var i2 = false;
      if (C(e7, function(e8, n3) {
        r2.props.hasOwnProperty(n3) && r2.props[n3] !== t2 || (r2.props[n3] = e8, i2 = true);
      }), i2)
        return this.save(), true;
    }
    return false;
  } }, { key: "register", value: function(e7, t2) {
    var n2 = this;
    if (H(e7)) {
      this.expire_days = void 0 === t2 ? this.default_expiry : t2;
      var r2 = false;
      if (C(e7, function(t3, i2) {
        e7.hasOwnProperty(i2) && n2.props[i2] !== t3 && (n2.props[i2] = t3, r2 = true);
      }), r2)
        return this.save(), true;
    }
    return false;
  } }, { key: "unregister", value: function(e7) {
    e7 in this.props && (delete this.props[e7], this.save());
  } }, { key: "update_campaign_params", value: function() {
    this.campaign_params_saved || (this.register(oe.campaignParams(this.custom_campaign_params)), this.campaign_params_saved = true);
  } }, { key: "update_search_keyword", value: function() {
    this.register(oe.searchInfo());
  } }, { key: "update_referrer_info", value: function() {
    this.register({ $referrer: this.props.$referrer || oe.referrer(), $referring_domain: this.props.$referring_domain || oe.referringDomain() });
  } }, { key: "get_referrer_info", value: function() {
    return z({ $referrer: this.props.$referrer, $referring_domain: this.props.$referring_domain });
  } }, { key: "safe_merge", value: function(e7) {
    return C(this.props, function(t2, n2) {
      n2 in e7 || (e7[n2] = t2);
    }), e7;
  } }, { key: "update_config", value: function(e7) {
    this.default_expiry = this.expire_days = e7.cookie_expiration, this.set_disabled(e7.disable_persistence), this.set_cross_subdomain(e7.cross_subdomain_cookie), this.set_secure(e7.secure_cookie);
  } }, { key: "set_disabled", value: function(e7) {
    this.disabled = e7, this.disabled ? this.remove() : this.save();
  } }, { key: "set_cross_subdomain", value: function(e7) {
    e7 !== this.cross_subdomain && (this.cross_subdomain = e7, this.remove(), this.save());
  } }, { key: "get_cross_subdomain", value: function() {
    return !!this.cross_subdomain;
  } }, { key: "set_secure", value: function(e7) {
    e7 !== this.secure && (this.secure = e7, this.remove(), this.save());
  } }, { key: "set_event_timer", value: function(e7, t2) {
    var n2 = this.props[$e] || {};
    n2[e7] = t2, this.props[$e] = n2, this.save();
  } }, { key: "remove_event_timer", value: function(e7) {
    var t2 = (this.props[$e] || {})[e7];
    return L(t2) || (delete this.props[$e][e7], this.save()), t2;
  } }, { key: "get_user_state", value: function() {
    return this.props[He] || "anonymous";
  } }, { key: "set_user_state", value: function(e7) {
    this.props[He] = e7, this.save();
  } }]), e6;
}();
var Ve = { _initializedTokens: [], _isAutocaptureEnabled: false, _setIsAutocaptureEnabled: function(e6) {
  var t2 = !!e6.get_property(Te), n2 = !!e6.get_config("autocapture");
  this._isAutocaptureEnabled = n2 && !t2;
}, _previousElementSibling: function(e6) {
  if (e6.previousElementSibling)
    return e6.previousElementSibling;
  var t2 = e6;
  do {
    t2 = t2.previousSibling;
  } while (t2 && !ce(t2));
  return t2;
}, _getAugmentPropertiesFromElement: function(e6) {
  if (!fe(e6))
    return {};
  var t2 = {};
  return C(e6.attributes, function(e7) {
    if (0 === e7.name.indexOf("data-ph-capture-attribute")) {
      var n2 = e7.name.replace("data-ph-capture-attribute-", ""), r2 = e7.value;
      n2 && r2 && _e(r2) && (t2[n2] = r2);
    }
  }), t2;
}, _getPropertiesFromElement: function(e6, t2, n2) {
  var r2 = e6.tagName.toLowerCase(), i2 = { tag_name: r2 };
  pe.indexOf(r2) > -1 && !n2 && ("a" === r2.toLowerCase() || "button" === r2.toLowerCase() ? i2.$el_text = ge(e6) : i2.$el_text = ae(e6));
  var o2 = se(e6);
  o2.length > 0 && (i2.classes = o2.split(" ").filter(function(e7) {
    return "" !== e7;
  })), C(e6.attributes, function(n3) {
    var r3;
    he(e6) && -1 === ["name", "id", "class"].indexOf(n3.name) || !t2 && _e(n3.value) && ("string" != typeof (r3 = n3.name) || "_ngcontent" !== r3.substring(0, 10) && "_nghost" !== r3.substring(0, 7)) && (i2["attr__" + n3.name] = n3.value);
  });
  for (var s2 = 1, a2 = 1, c2 = e6; c2 = this._previousElementSibling(c2); )
    s2++, c2.tagName === e6.tagName && a2++;
  return i2.nth_child = s2, i2.nth_of_type = a2, i2;
}, _getDefaultProperties: function(e6) {
  return { $event_type: e6, $ce_version: 1 };
}, _extractCustomPropertyValue: function(e6) {
  var t2 = [];
  return C(document.querySelectorAll(e6.css_selector), function(e7) {
    var n2;
    ["input", "select"].indexOf(e7.tagName.toLowerCase()) > -1 ? n2 = e7.value : e7.textContent && (n2 = e7.textContent), _e(n2) && t2.push(n2);
  }), t2.join(", ");
}, _getCustomProperties: function(e6) {
  var t2 = this, n2 = {};
  return C(this._customProperties, function(r2) {
    C(r2.event_selectors, function(i2) {
      C(document.querySelectorAll(i2), function(i3) {
        q(e6, i3) && fe(i3) && (n2[r2.name] = t2._extractCustomPropertyValue(r2));
      });
    });
  }), n2;
}, _getEventTarget: function(e6) {
  return void 0 === e6.target ? e6.srcElement || null : null !== (t2 = e6.target) && void 0 !== t2 && t2.shadowRoot ? e6.composedPath()[0] || null : e6.target || null;
  var t2;
}, _captureEvent: function(e6, t2) {
  var n2, r2 = this, i2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "$autocapture", o2 = this._getEventTarget(e6);
  (le(o2) && (o2 = o2.parentNode || null), "$autocapture" === i2 && "click" === e6.type && e6 instanceof MouseEvent) && (null !== (n2 = this.rageclicks) && void 0 !== n2 && n2.isRageClick(e6.clientX, e6.clientY, new Date().getTime()) && this._captureEvent(e6, t2, "$rageclick"));
  if (o2 && function(e7, t3) {
    var n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : void 0;
    if (!e7 || ue(e7, "html") || !ce(e7))
      return false;
    if (null != n3 && n3.url_allowlist) {
      var r3 = window.location.href, i3 = n3.url_allowlist;
      if (i3 && !i3.some(function(e8) {
        return r3.match(e8);
      }))
        return false;
    }
    if (null != n3 && n3.dom_event_allowlist) {
      var o3 = n3.dom_event_allowlist;
      if (o3 && !o3.some(function(e8) {
        return t3.type === e8;
      }))
        return false;
    }
    if (null != n3 && n3.element_allowlist) {
      var s3 = n3.element_allowlist;
      if (s3 && !s3.some(function(t4) {
        return e7.tagName.toLowerCase() === t4;
      }))
        return false;
    }
    if (null != n3 && n3.css_selector_allowlist) {
      var a3 = n3.css_selector_allowlist;
      if (a3 && !a3.some(function(t4) {
        return e7.matches(t4);
      }))
        return false;
    }
    for (var c3 = false, u3 = [e7], l3 = true, d3 = e7; d3.parentNode && !ue(d3, "body"); )
      if (de(d3.parentNode))
        u3.push(d3.parentNode.host), d3 = d3.parentNode.host;
      else {
        if (!(l3 = d3.parentNode || false))
          break;
        if (pe.indexOf(l3.tagName.toLowerCase()) > -1)
          c3 = true;
        else {
          var p3 = window.getComputedStyle(l3);
          p3 && "pointer" === p3.getPropertyValue("cursor") && (c3 = true);
        }
        u3.push(l3), d3 = l3;
      }
    var f2 = window.getComputedStyle(e7);
    if (f2 && "pointer" === f2.getPropertyValue("cursor") && "click" === t3.type)
      return true;
    var h2 = e7.tagName.toLowerCase();
    switch (h2) {
      case "html":
        return false;
      case "form":
        return "submit" === t3.type;
      case "input":
      case "select":
      case "textarea":
        return "change" === t3.type || "click" === t3.type;
      default:
        return c3 ? "click" === t3.type : "click" === t3.type && (pe.indexOf(h2) > -1 || "true" === e7.getAttribute("contenteditable"));
    }
  }(o2, e6, this.config)) {
    for (var s2 = [o2], a2 = o2; a2.parentNode && !ue(a2, "body"); )
      de(a2.parentNode) ? (s2.push(a2.parentNode.host), a2 = a2.parentNode.host) : (s2.push(a2.parentNode), a2 = a2.parentNode);
    var c2, u2 = [], l2 = {}, d2 = false;
    if (C(s2, function(e7) {
      var n3 = fe(e7);
      "a" === e7.tagName.toLowerCase() && (c2 = e7.getAttribute("href"), c2 = n3 && _e(c2) && c2), q(se(e7).split(" "), "ph-no-capture") && (d2 = true), u2.push(r2._getPropertiesFromElement(e7, t2.get_config("mask_all_element_attributes"), t2.get_config("mask_all_text")));
      var i3 = r2._getAugmentPropertiesFromElement(e7);
      j(l2, i3);
    }), t2.get_config("mask_all_text") || ("a" === o2.tagName.toLowerCase() || "button" === o2.tagName.toLowerCase() ? u2[0].$el_text = ge(o2) : u2[0].$el_text = ae(o2)), c2 && (u2[0].attr__href = c2), d2)
      return false;
    var p2 = j(this._getDefaultProperties(e6.type), { $elements: u2 }, this._getCustomProperties(s2), l2);
    return t2.capture(i2, p2), true;
  }
}, _navigate: function(e6) {
  window.location.href = e6;
}, _addDomEventHandlers: function(e6) {
  var t2 = this, n2 = function(n3) {
    n3 = n3 || window.event, t2._captureEvent(n3, e6);
  };
  re(document, "submit", n2, false, true), re(document, "change", n2, false, true), re(document, "click", n2, false, true);
}, _customProperties: [], rageclicks: null, config: void 0, init: function(e6) {
  var t2;
  "boolean" != typeof e6.__autocapture && (this.config = e6.__autocapture), null !== (t2 = this.config) && void 0 !== t2 && t2.url_allowlist && (this.config.url_allowlist = this.config.url_allowlist.map(function(e7) {
    return new RegExp(e7);
  })), this.rageclicks = new ye(e6.get_config("rageclick"));
}, afterDecideResponse: function(e6, t2) {
  this._setIsAutocaptureEnabled(t2);
  var n2 = t2.get_config("token");
  this._initializedTokens.indexOf(n2) > -1 ? R.log('autocapture already initialized for token "' + n2 + '"') : (t2.persistence && t2.persistence.register(s({}, Te, !!e6.autocapture_opt_out)), this._initializedTokens.push(n2), e6 && e6.config && e6.config.enable_collect_everything && this._isAutocaptureEnabled ? (e6.custom_properties && (this._customProperties = e6.custom_properties), this._addDomEventHandlers(t2)) : t2.__autocapture = false);
}, enabledForProject: function(e6, t2, n2) {
  if (!e6)
    return true;
  t2 = L(t2) ? 10 : t2, n2 = L(n2) ? 10 : n2;
  for (var r2 = 0, i2 = 0; i2 < e6.length; i2++)
    r2 += e6.charCodeAt(i2);
  return r2 % t2 < n2;
}, isBrowserSupported: function() {
  return N(document.querySelectorAll);
} };
!function(e6) {
  for (var t2 in e6)
    "function" == typeof e6[t2] && (e6[t2] = e6[t2].bind(e6));
}(Ve), function(e6) {
  for (var t2 in e6)
    "function" == typeof e6[t2] && (e6[t2] = W(e6[t2]));
}(Ve);
var Ge = "__ph_opt_in_out_";
function We(e6, t2) {
  et(true, e6, t2);
}
function ze(e6, t2) {
  et(false, e6, t2);
}
function Qe(e6, t2) {
  return "1" === Ke(e6, t2);
}
function Je(e6, t2) {
  return !!function(e7) {
    if (e7 && e7.respectDnt) {
      var t3 = e7 && e7.window || S, n2 = t3.navigator || {}, r2 = false;
      return C([n2.doNotTrack, n2.msDoNotTrack, t3.doNotTrack], function(e8) {
        q([true, 1, "1", "yes"], e8) && (r2 = true);
      }), r2;
    }
    return false;
  }(t2) || "0" === Ke(e6, t2);
}
function Xe(e6, t2) {
  Ze(t2 = t2 || {}).remove(Ye(e6, t2), !!t2.crossSubdomainCookie);
}
function Ze(e6) {
  return "localStorage" === (e6 = e6 || {}).persistenceType ? ke : "localStorage+cookie" === e6.persistenceType ? Se : be;
}
function Ye(e6, t2) {
  return ((t2 = t2 || {}).persistencePrefix || Ge) + e6;
}
function Ke(e6, t2) {
  return Ze(t2).get(Ye(e6, t2));
}
function et(e6, t2, n2) {
  B(t2) && t2.length ? (Ze(n2 = n2 || {}).set(Ye(t2, n2), e6 ? 1 : 0, U(n2.cookieExpiration) ? n2.cookieExpiration : null, n2.crossSubdomainCookie, n2.secureCookie), n2.capture && e6 && n2.capture(n2.captureEventName || "$opt_in", n2.captureProperties || {}, { send_instantly: true })) : console.error("gdpr." + (e6 ? "optIn" : "optOut") + " called with an invalid token");
}
function tt(e6, t2) {
  var n2 = false;
  try {
    var r2 = e6.get_config("token"), i2 = e6.get_config("respect_dnt"), o2 = e6.get_config("opt_out_capturing_persistence_type"), s2 = e6.get_config("opt_out_capturing_cookie_prefix") || void 0, a2 = e6.get_config("window");
    r2 && (n2 = Je(r2, { respectDnt: i2, persistenceType: o2, persistencePrefix: s2, window: a2 }));
  } catch (e7) {
    t2 || console.error("Unexpected error when checking capturing opt-out status: " + e7);
  }
  return n2;
}
function nt(e6, t2, n2) {
  return function() {
    for (var r2 = tt(e6, n2), i2 = arguments.length, o2 = new Array(i2), s2 = 0; s2 < i2; s2++)
      o2[s2] = arguments[s2];
    if (!r2)
      return t2.apply(this, o2);
    var a2 = o2[o2.length - 1];
    "function" == typeof a2 && a2(0);
  };
}
var rt = "$set";
var it = function() {
  function e6(t2) {
    var n2 = this;
    r(this, e6), this._posthog = t2, this.set = nt(t2, function(e7, t3, r2) {
      var i2 = n2.set_action(e7, t3);
      return n2._posthog.setPersonPropertiesForFlags(i2.$set || {}), H(e7) && (r2 = t3), n2._get_config("save_referrer") && n2._posthog.sessionPersistence.update_referrer_info(), i2[rt] = j({}, oe.people_properties(), n2._posthog.sessionPersistence.get_referrer_info(), i2[rt]), n2._send_request(i2, r2);
    }), this.set_once = nt(t2, function(e7, t3, r2) {
      var i2 = n2.set_once_action(e7, t3);
      return H(e7) && (r2 = t3), n2._send_request(i2, r2);
    });
  }
  return o(e6, [{ key: "toString", value: function() {
    return this._posthog.toString() + ".people";
  } }, { key: "_send_request", value: function(e7, t2) {
    e7.$token = this._get_config("token"), e7.$distinct_id = this._posthog.get_distinct_id();
    var n2 = this._posthog.get_property("$device_id"), r2 = this._posthog.get_property("$user_id"), i2 = this._posthog.get_property("$had_persisted_distinct_id");
    n2 && (e7.$device_id = n2), r2 && (e7.$user_id = r2), i2 && (e7.$had_persisted_distinct_id = i2);
    var o2 = V(e7), s2 = J(o2, this._get_config("properties_string_max_length")), a2 = X(JSON.stringify(o2));
    return this._posthog._send_request(this._get_config("api_host") + "/engage/", { data: a2 }, {}, this._posthog._prepare_callback(t2, s2)), s2;
  } }, { key: "_get_config", value: function(e7) {
    return this._posthog.get_config(e7);
  } }, { key: "_is_reserved_property", value: function(e7) {
    return "$distinct_id" === e7 || "$token" === e7 || "$device_id" === e7 || "$user_id" === e7 || "$had_persisted_distinct_id" === e7;
  } }, { key: "set_action", value: function(e7, t2) {
    return this.apiActionParser(rt, e7, t2);
  } }, { key: "set_once_action", value: function(e7, t2) {
    return this.apiActionParser("$set_once", e7, t2);
  } }, { key: "apiActionParser", value: function(e7, t2, n2) {
    var r2 = this, i2 = {}, o2 = {};
    return H(t2) ? C(t2, function(e8, t3) {
      r2._is_reserved_property(t3) || (o2[t3] = e8);
    }) : o2[t2] = n2, i2[e7] = o2, i2;
  } }]), e6;
}();
var ot = "$active_feature_flags";
var st = "$override_feature_flags";
var at = "$feature_flag_payloads";
var ct = function(e6) {
  var t2, n2 = {}, r2 = v(function(e7) {
    for (var t3 = Object.keys(e7), n3 = t3.length, r3 = new Array(n3); n3--; )
      r3[n3] = [t3[n3], e7[t3[n3]]];
    return r3;
  }(e6 || {}));
  try {
    for (r2.s(); !(t2 = r2.n()).done; ) {
      var i2 = f(t2.value, 2), o2 = i2[0], s2 = i2[1];
      s2 && (n2[o2] = s2);
    }
  } catch (e7) {
    r2.e(e7);
  } finally {
    r2.f();
  }
  return n2;
};
var ut = function() {
  function e6(t2) {
    r(this, e6), this.instance = t2, this._override_warning = false, this.flagCallReported = {}, this.featureFlagEventHandlers = [], this.reloadFeatureFlagsQueued = false, this.reloadFeatureFlagsInAction = false;
  }
  return o(e6, [{ key: "getFlags", value: function() {
    return Object.keys(this.getFlagVariants());
  } }, { key: "getFlagVariants", value: function() {
    var e7 = this.instance.get_property(je), t2 = this.instance.get_property(st);
    if (!t2)
      return e7 || {};
    for (var n2 = j({}, e7), r2 = Object.keys(t2), i2 = 0; i2 < r2.length; i2++)
      false === t2[r2[i2]] ? delete n2[r2[i2]] : n2[r2[i2]] = t2[r2[i2]];
    return this._override_warning || (console.warn("[PostHog] Overriding feature flags!", { enabledFlags: e7, overriddenFlags: t2, finalFlags: n2 }), this._override_warning = true), n2;
  } }, { key: "getFlagPayloads", value: function() {
    return this.instance.get_property(at) || {};
  } }, { key: "reloadFeatureFlags", value: function() {
    this.reloadFeatureFlagsQueued || (this.reloadFeatureFlagsQueued = true, this._startReloadTimer());
  } }, { key: "setAnonymousDistinctId", value: function(e7) {
    this.$anon_distinct_id = e7;
  } }, { key: "setReloadingPaused", value: function(e7) {
    this.reloadFeatureFlagsInAction = e7;
  } }, { key: "resetRequestQueue", value: function() {
    this.reloadFeatureFlagsQueued = false;
  } }, { key: "_startReloadTimer", value: function() {
    var e7 = this;
    this.reloadFeatureFlagsQueued && !this.reloadFeatureFlagsInAction && setTimeout(function() {
      !e7.reloadFeatureFlagsInAction && e7.reloadFeatureFlagsQueued && (e7.reloadFeatureFlagsQueued = false, e7._reloadFeatureFlagsRequest());
    }, 5);
  } }, { key: "_reloadFeatureFlagsRequest", value: function() {
    var e7 = this;
    this.setReloadingPaused(true);
    var t2 = this.instance.get_config("token"), n2 = this.instance.get_property(Ne), r2 = this.instance.get_property(qe), i2 = X(JSON.stringify({ token: t2, distinct_id: this.instance.get_distinct_id(), groups: this.instance.getGroups(), $anon_distinct_id: this.$anon_distinct_id, person_properties: n2, group_properties: r2 }));
    this.instance._send_request(this.instance.get_config("api_host") + "/decide/?v=3", { data: i2 }, { method: "POST" }, this.instance._prepare_callback(function(t3) {
      e7.$anon_distinct_id = void 0, e7.receivedFeatureFlags(t3), e7.setReloadingPaused(false), e7._startReloadTimer();
    }));
  } }, { key: "getFeatureFlag", value: function(e7) {
    var t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
    if (!this.getFlags())
      return console.warn('getFeatureFlag for key "' + e7 + `" failed. Feature flags didn't load in time.`), false;
    var n2 = this.getFlagVariants()[e7];
    return !t2.send_event && "send_event" in t2 || this.flagCallReported[e7] || (this.flagCallReported[e7] = true, this.instance.capture("$feature_flag_called", { $feature_flag: e7, $feature_flag_response: n2 })), n2;
  } }, { key: "getFeatureFlagPayload", value: function(e7) {
    return this.getFlagPayloads()[e7];
  } }, { key: "isFeatureEnabled", value: function(e7) {
    var t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
    return this.getFlags() ? !!this.getFeatureFlag(e7, t2) : (console.warn('isFeatureEnabled for key "' + e7 + `" failed. Feature flags didn't load in time.`), false);
  } }, { key: "addFeatureFlagsHandler", value: function(e7) {
    this.featureFlagEventHandlers.push(e7);
  } }, { key: "removeFeatureFlagsHandler", value: function(e7) {
    this.featureFlagEventHandlers = this.featureFlagEventHandlers.filter(function(t2) {
      return t2 !== e7;
    });
  } }, { key: "receivedFeatureFlags", value: function(e7) {
    this.instance.decideEndpointWasHit = true;
    var n2 = this.getFlagVariants(), r2 = this.getFlagPayloads();
    !function(e8, n3) {
      var r3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, i2 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}, o2 = e8.featureFlags, a2 = e8.featureFlagPayloads;
      if (o2)
        if (Array.isArray(o2)) {
          var c2, u2 = {};
          if (o2)
            for (var l2 = 0; l2 < o2.length; l2++)
              u2[o2[l2]] = true;
          n3 && n3.register((s(c2 = {}, ot, o2), s(c2, je, u2), c2));
        } else {
          var d2, p2 = o2, f2 = a2;
          e8.errorsWhileComputingFlags && (p2 = t(t({}, r3), p2), f2 = t(t({}, i2), f2)), n3 && n3.register((s(d2 = {}, ot, Object.keys(ct(p2))), s(d2, je, p2 || {}), s(d2, at, f2 || {}), d2));
        }
    }(e7, this.instance.persistence, n2, r2), this._fireFeatureFlagsCallbacks();
  } }, { key: "override", value: function(e7) {
    if (this._override_warning = false, false === e7)
      this.instance.persistence.unregister(st);
    else if (Array.isArray(e7)) {
      for (var t2 = {}, n2 = 0; n2 < e7.length; n2++)
        t2[e7[n2]] = true;
      this.instance.persistence.register(s({}, st, t2));
    } else
      this.instance.persistence.register(s({}, st, e7));
  } }, { key: "onFeatureFlags", value: function(e7) {
    var t2 = this;
    if (this.addFeatureFlagsHandler(e7), this.instance.decideEndpointWasHit) {
      var n2 = this._prepareFeatureFlagsForCallbacks(), r2 = n2.flags, i2 = n2.flagVariants;
      e7(r2, i2);
    }
    return function() {
      return t2.removeFeatureFlagsHandler(e7);
    };
  } }, { key: "updateEarlyAccessFeatureEnrollment", value: function(e7, n2) {
    var r2, i2 = s({}, "$feature_enrollment/".concat(e7), n2);
    this.instance.capture("$feature_enrollment_update", { $feature_flag: e7, $feature_enrollment: n2, $set: i2 }), this.setPersonPropertiesForFlags(i2, false);
    var o2 = t(t({}, this.getFlagVariants()), {}, s({}, e7, n2));
    this.instance.persistence.register((s(r2 = {}, ot, Object.keys(ct(o2))), s(r2, je, o2), r2)), this._fireFeatureFlagsCallbacks();
  } }, { key: "getEarlyAccessFeatures", value: function(e7) {
    var t2 = this, n2 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], r2 = this.instance.get_property(De);
    if (r2 && !n2)
      return e7(r2);
    this.instance._send_request("".concat(this.instance.get_config("api_host"), "/api/early_access_features/?token=").concat(this.instance.get_config("token")), {}, { method: "GET" }, function(n3) {
      var r3 = n3.earlyAccessFeatures;
      return t2.instance.persistence.register(s({}, De, r3)), e7(r3);
    });
  } }, { key: "_prepareFeatureFlagsForCallbacks", value: function() {
    var e7 = this.getFlags(), t2 = this.getFlagVariants();
    return { flags: e7.filter(function(e8) {
      return t2[e8];
    }), flagVariants: Object.keys(t2).filter(function(e8) {
      return t2[e8];
    }).reduce(function(e8, n2) {
      return e8[n2] = t2[n2], e8;
    }, {}) };
  } }, { key: "_fireFeatureFlagsCallbacks", value: function() {
    var e7 = this._prepareFeatureFlagsForCallbacks(), t2 = e7.flags, n2 = e7.flagVariants;
    this.featureFlagEventHandlers.forEach(function(e8) {
      return e8(t2, n2);
    });
  } }, { key: "setPersonPropertiesForFlags", value: function(e7) {
    var n2 = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], r2 = this.instance.get_property(Ne) || {};
    this.instance.register(s({}, Ne, t(t({}, r2), e7))), n2 && this.instance.reloadFeatureFlags();
  } }, { key: "resetPersonPropertiesForFlags", value: function() {
    this.instance.unregister(Ne);
  } }, { key: "setGroupPropertiesForFlags", value: function(e7) {
    var n2 = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], r2 = this.instance.get_property(qe) || {};
    0 !== Object.keys(r2).length && Object.keys(r2).forEach(function(n3) {
      r2[n3] = t(t({}, r2[n3]), e7[n3]), delete e7[n3];
    }), this.instance.register(s({}, qe, t(t({}, r2), e7))), n2 && this.instance.reloadFeatureFlags();
  } }, { key: "resetGroupPropertiesForFlags", value: function(e7) {
    if (e7) {
      var n2 = this.instance.get_property(qe) || {};
      this.instance.register(s({}, qe, t(t({}, n2), {}, s({}, e7, {}))));
    } else
      this.instance.unregister(qe);
  } }]), e6;
}();
var lt = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNOCAwSDE2TDAgMTZWOEw4IDBaIiBmaWxsPSIjMkQyRDJEIi8+CjxwYXRoIGQ9Ik0xNiA4VjE2SDhMMTYgOFoiIGZpbGw9IiMyRDJEMkQiLz4KPC9zdmc+Cg==";
var dt = 2;
var pt = 4;
var ft = 6;
var ht = "rrweb/console@1";
var _t;
var gt = "/e/";
!function(e6) {
  e6[e6.Mutation = 0] = "Mutation", e6[e6.MouseMove = 1] = "MouseMove", e6[e6.MouseInteraction = 2] = "MouseInteraction", e6[e6.Scroll = 3] = "Scroll", e6[e6.ViewportResize = 4] = "ViewportResize", e6[e6.Input = 5] = "Input", e6[e6.TouchMove = 6] = "TouchMove", e6[e6.MediaInteraction = 7] = "MediaInteraction", e6[e6.StyleSheetRule = 8] = "StyleSheetRule", e6[e6.CanvasMutation = 9] = "CanvasMutation", e6[e6.Font = 10] = "Font", e6[e6.Log = 11] = "Log", e6[e6.Drag = 12] = "Drag", e6[e6.StyleDeclaration = 13] = "StyleDeclaration", e6[e6.Selection = 14] = "Selection", e6[e6.AdoptedStyleSheet = 15] = "AdoptedStyleSheet";
}(_t || (_t = {}));
var vt = [_t.MouseMove, _t.MouseInteraction, _t.Scroll, _t.ViewportResize, _t.Input, _t.TouchMove, _t.MediaInteraction, _t.Drag];
var yt = function() {
  function e6(t2) {
    r(this, e6), s(this, "lastActivityTimestamp", Date.now()), s(this, "isIdle", false), this.instance = t2, this.captureStarted = false, this.snapshots = [], this.emit = false, this.endpoint = gt, this.stopRrweb = void 0, this.windowId = null, this.sessionId = null, this.receivedDecide = false;
  }
  return o(e6, [{ key: "startRecordingIfEnabled", value: function() {
    this.isRecordingEnabled() ? this.startCaptureAndTrySendingQueuedSnapshots() : this.stopRecording();
  } }, { key: "started", value: function() {
    return this.captureStarted;
  } }, { key: "stopRecording", value: function() {
    this.captureStarted && this.stopRrweb && (this.stopRrweb(), this.stopRrweb = void 0, this.captureStarted = false);
  } }, { key: "isRecordingEnabled", value: function() {
    var e7 = !!this.instance.get_property(Re), t2 = !this.instance.get_config("disable_session_recording");
    return e7 && t2;
  } }, { key: "isConsoleLogCaptureEnabled", value: function() {
    var e7 = !!this.instance.get_property(Ae), t2 = this.instance.get_config("enable_recording_console_log");
    return null != t2 ? t2 : e7;
  } }, { key: "getRecordingVersion", value: function() {
    var e7, t2 = this.instance.get_property(Me);
    return (null === (e7 = this.instance.get_config("session_recording")) || void 0 === e7 ? void 0 : e7.recorderVersion) || t2 || "v1";
  } }, { key: "afterDecideResponse", value: function(e7) {
    var t2, n2, r2, i2, o2, a2;
    (this.receivedDecide = true, this.instance.persistence) && this.instance.persistence.register((s(o2 = {}, Re, !!e7.sessionRecording), s(o2, Ae, null === (r2 = e7.sessionRecording) || void 0 === r2 ? void 0 : r2.consoleLogRecordingEnabled), s(o2, Me, null === (i2 = e7.sessionRecording) || void 0 === i2 ? void 0 : i2.recorderVersion), o2));
    null !== (t2 = e7.sessionRecording) && void 0 !== t2 && t2.endpoint && (this.endpoint = null === (a2 = e7.sessionRecording) || void 0 === a2 ? void 0 : a2.endpoint);
    null !== (n2 = e7.sessionRecording) && void 0 !== n2 && n2.recorderVersion && (this.recorderVersion = e7.sessionRecording.recorderVersion), this.startRecordingIfEnabled();
  } }, { key: "startCaptureAndTrySendingQueuedSnapshots", value: function() {
    var e7 = this;
    this.receivedDecide && (this.emit = true, this.snapshots.forEach(function(t2) {
      return e7._captureSnapshot(t2);
    })), this._startCapture();
  } }, { key: "_startCapture", value: function() {
    var e7 = this;
    if (void 0 !== Object.assign && !this.captureStarted && !this.instance.get_config("disable_session_recording")) {
      this.captureStarted = true, this.instance.sessionManager.checkAndGetSessionAndWindowId();
      var t2 = "v2" === this.getRecordingVersion() ? "recorder-v2.js" : "recorder.js";
      this.instance.__loaded_recorder_version !== this.getRecordingVersion() ? ie(this.instance.get_config("api_host") + "/static/".concat(t2, "?v=").concat(y.LIB_VERSION), function(n2) {
        if (n2)
          return R.error("Could not load ".concat(t2), n2);
        e7._onScriptLoaded();
      }) : this._onScriptLoaded();
    }
  } }, { key: "_isInteractiveEvent", value: function(e7) {
    var t2;
    return 3 === e7.type && -1 !== vt.indexOf(null === (t2 = e7.data) || void 0 === t2 ? void 0 : t2.source);
  } }, { key: "_updateWindowAndSessionIds", value: function(e7) {
    var t2 = this._isInteractiveEvent(e7);
    if (t2 || this.isIdle || e7.timestamp - this.lastActivityTimestamp > 3e5 && (this.isIdle = true), t2 && (this.lastActivityTimestamp = e7.timestamp, this.isIdle && (this.isIdle = false, this._tryTakeFullSnapshot())), !this.isIdle) {
      var n2 = this.instance.sessionManager.checkAndGetSessionAndWindowId(!t2, e7.timestamp), r2 = n2.windowId, i2 = n2.sessionId;
      -1 !== [dt, pt].indexOf(e7.type) || this.windowId === r2 && this.sessionId === i2 || this._tryTakeFullSnapshot(), this.windowId = r2, this.sessionId = i2;
    }
  } }, { key: "_tryTakeFullSnapshot", value: function() {
    if (!this.captureStarted)
      return false;
    try {
      var e7;
      return null === (e7 = this.rrwebRecord) || void 0 === e7 || e7.takeFullSnapshot(), true;
    } catch (e8) {
      return R.error("Error taking full snapshot.", e8), false;
    }
  } }, { key: "_onScriptLoaded", value: function() {
    var e7 = this, n2 = { blockClass: "ph-no-capture", blockSelector: void 0, ignoreClass: "ph-ignore-input", maskTextClass: "ph-mask", maskTextSelector: void 0, maskAllInputs: true, maskInputOptions: {}, maskInputFn: void 0, slimDOMOptions: {}, collectFonts: false, inlineStylesheet: true, recordCrossOriginIframes: false };
    this.rrwebRecord = window.rrweb ? window.rrweb.record : window.rrwebRecord;
    for (var r2 = this.instance.get_config("session_recording"), i2 = 0, o2 = Object.entries(r2 || {}); i2 < o2.length; i2++) {
      var s2 = f(o2[i2], 2), a2 = s2[0], c2 = s2[1];
      a2 in n2 && (n2[a2] = c2);
    }
    this.rrwebRecord ? (this.stopRrweb = this.rrwebRecord(t({ emit: function(t2) {
      e7.onRRwebEmit(t2);
    }, plugins: window.rrwebConsoleRecord && this.isConsoleLogCaptureEnabled() ? [window.rrwebConsoleRecord.getRecordConsolePlugin()] : [] }, n2)), this.instance._addCaptureHook(function(t2) {
      try {
        var n3;
        if ("$pageview" === t2)
          null === (n3 = e7.rrwebRecord) || void 0 === n3 || n3.addCustomEvent("$pageview", { href: window.location.href });
      } catch (e8) {
        R.error("Could not add $pageview to rrweb session", e8);
      }
    }), this.lastActivityTimestamp = Date.now(), this.isIdle = false) : R.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.");
  } }, { key: "onRRwebEmit", value: function(e7) {
    if (e7 = function(e8) {
      if (e8 && "object" === n(e8) && e8.type === ft && "object" === n(e8.data) && e8.data.plugin === ht) {
        e8.data.payload.payload.length > 10 && (e8.data.payload.payload = e8.data.payload.payload.slice(0, 10), e8.data.payload.payload.push("...[truncated]"));
        for (var t3 = [], r2 = 0; r2 < e8.data.payload.payload.length; r2++)
          e8.data.payload.payload[r2] && e8.data.payload.payload[r2].length > 2e3 ? t3.push(e8.data.payload.payload[r2].slice(0, 2e3) + "...[truncated]") : t3.push(e8.data.payload.payload[r2]);
        return e8.data.payload.payload = t3, e8;
      }
      return e8;
    }(function(e8) {
      if (e8 && "object" === n(e8)) {
        var t3 = JSON.stringify(e8);
        if (t3.length > 5e6) {
          var r2, i2 = v(t3.matchAll(/data:([\w\/\-\.]+);(\w+),([^)"]*)/gim));
          try {
            for (i2.s(); !(r2 = i2.n()).done; ) {
              var o2 = r2.value;
              t3 = "image/" === o2[1].toLocaleLowerCase().slice(0, 6) ? t3.replace(o2[0], lt) : t3.replace(o2[0], "");
            }
          } catch (e9) {
            i2.e(e9);
          } finally {
            i2.f();
          }
        }
        return JSON.parse(t3);
      }
      return e8;
    }(e7)), this._updateWindowAndSessionIds(e7), !this.isIdle) {
      var t2 = { $snapshot_data: e7, $session_id: this.sessionId, $window_id: this.windowId };
      this.instance._captureMetrics.incr("rrweb-record"), this.instance._captureMetrics.incr("rrweb-record-".concat(e7.type)), this.emit ? this._captureSnapshot(t2) : this.snapshots.push(t2);
    }
  } }, { key: "_captureSnapshot", value: function(e7) {
    this.instance.capture("$snapshot", e7, { transport: "XHR", method: "POST", endpoint: this.endpoint, _noTruncate: true, _batchKey: "sessionRecording", _metrics: { rrweb_full_snapshot: e7.$snapshot_data.type === dt } });
  } }]), e6;
}();
var mt = { entryType: 0, timeOrigin: 1, name: 2, startTime: 3, redirectStart: 4, redirectEnd: 5, workerStart: 6, fetchStart: 7, domainLookupStart: 8, domainLookupEnd: 9, connectStart: 10, secureConnectionStart: 11, connectEnd: 12, requestStart: 13, responseStart: 14, responseEnd: 15, decodedBodySize: 16, encodedBodySize: 17, initiatorType: 18, nextHopProtocol: 19, renderBlockingStatus: 20, responseStatus: 21, transferSize: 22, element: 23, renderTime: 24, loadTime: 25, size: 26, id: 27, url: 28, domComplete: 29, domContentLoadedEvent: 30, domInteractive: 31, loadEventEnd: 32, loadEventStart: 33, redirectCount: 34, navigationType: 35, unloadEventEnd: 36, unloadEventStart: 37, duration: 39, timestamp: 40 };
var bt = ["first-input", "navigation", "paint", "resource"];
var wt = ["/s/", "/e/"];
var kt = function() {
  function e6(t2) {
    r(this, e6), s(this, "_forceAllowLocalhost", false), this.instance = t2;
  }
  return o(e6, [{ key: "startObservingIfEnabled", value: function() {
    this.isEnabled() ? this.startObserving() : this.stopObserving();
  } }, { key: "startObserving", value: function() {
    var e7, t2, n2 = this;
    if (!this.observer)
      if (void 0 !== (null === (e7 = window) || void 0 === e7 || null === (t2 = e7.PerformanceObserver) || void 0 === t2 ? void 0 : t2.supportedEntryTypes))
        if (!O.includes(location.hostname) || this._forceAllowLocalhost)
          try {
            this.observer = new PerformanceObserver(function(e8) {
              e8.getEntries().forEach(function(e9) {
                n2._capturePerformanceEvent(e9);
              });
            });
            var r2 = PerformanceObserver.supportedEntryTypes.filter(function(e8) {
              return bt.includes(e8);
            });
            r2.forEach(function(e8) {
              var t3;
              null === (t3 = n2.observer) || void 0 === t3 || t3.observe({ type: e8, buffered: true });
            });
          } catch (e8) {
            console.error("PostHog failed to start performance observer", e8), this.stopObserving();
          }
        else
          R.log("PostHog Peformance observer not started because we are on localhost.");
      else
        R.log("PostHog Peformance observer not started because PerformanceObserver is not supported by this browser.");
  } }, { key: "stopObserving", value: function() {
    this.observer && (this.observer.disconnect(), this.observer = void 0);
  } }, { key: "isObserving", value: function() {
    return !!this.observer;
  } }, { key: "isEnabled", value: function() {
    var e7, t2;
    return null !== (e7 = null !== (t2 = this.instance.get_config("capture_performance")) && void 0 !== t2 ? t2 : this.remoteEnabled) && void 0 !== e7 && e7;
  } }, { key: "afterDecideResponse", value: function(e7) {
    this.remoteEnabled = e7.capturePerformance || false, this.isEnabled() && this.startObserving();
  } }, { key: "_capturePerformanceEvent", value: function(e7) {
    if (0 === e7.name.indexOf(this.instance.get_config("api_host"))) {
      var t2 = e7.name.replace(this.instance.get_config("api_host"), "");
      if (wt.find(function(e8) {
        return 0 === t2.indexOf(e8);
      }))
        return;
    }
    var n2 = { url: e7.name }, r2 = this.instance.get_config("session_recording");
    if (r2.maskNetworkRequestFn && (n2 = r2.maskNetworkRequestFn(n2)), n2) {
      var i2 = e7.toJSON();
      i2.name = n2.url;
      var o2 = {}, a2 = Math.floor(Date.now() - performance.now());
      for (var c2 in o2[mt.timeOrigin] = a2, o2[mt.timestamp] = Math.floor(a2 + e7.startTime), mt)
        void 0 !== i2[c2] && (o2[mt[c2]] = i2[c2]);
      if (this.capturePerformanceEvent(o2), St(e7)) {
        var u2, l2 = v(e7.serverTiming || []);
        try {
          for (l2.s(); !(u2 = l2.n()).done; ) {
            var d2, p2 = u2.value;
            this.capturePerformanceEvent((s(d2 = {}, mt.timeOrigin, a2), s(d2, mt.timestamp, Math.floor(a2 + e7.startTime)), s(d2, mt.name, p2.name), s(d2, mt.duration, p2.duration), s(d2, mt.entryType, "serverTiming"), d2));
          }
        } catch (e8) {
          l2.e(e8);
        } finally {
          l2.f();
        }
      }
    }
  } }, { key: "capturePerformanceEvent", value: function(e7) {
    var t2, n2 = e7[mt.timestamp];
    null === (t2 = this.instance.sessionRecording) || void 0 === t2 || t2.onRRwebEmit({ type: 6, data: { plugin: "posthog/network@1", payload: e7 }, timestamp: n2 });
  } }]), e6;
}();
var St = function(e6) {
  return "navigation" === e6.entryType || "resource" === e6.entryType;
};
var Ft = function() {
  function e6(t2) {
    r(this, e6), this.instance = t2, this.instance.decideEndpointWasHit = this.instance._hasBootstrappedFeatureFlags();
  }
  return o(e6, [{ key: "call", value: function() {
    var e7 = this, t2 = X(JSON.stringify({ token: this.instance.get_config("token"), distinct_id: this.instance.get_distinct_id(), groups: this.instance.getGroups(), person_properties: this.instance.get_property(Ne), group_properties: this.instance.get_property(qe) }));
    this.instance._send_request("".concat(this.instance.get_config("api_host"), "/decide/?v=3"), { data: t2, verbose: true }, { method: "POST" }, function(t3) {
      return e7.parseDecideResponse(t3);
    });
  } }, { key: "parseDecideResponse", value: function(e7) {
    var t2, n2, r2, i2 = this;
    if (0 !== (null == e7 ? void 0 : e7.status)) {
      if (this.instance.decideEndpointWasHit = true, !document || !document.body)
        return console.log("document not ready yet, trying again in 500 milliseconds..."), void setTimeout(function() {
          i2.parseDecideResponse(e7);
        }, 500);
      if (this.instance.toolbar.afterDecideResponse(e7), null === (t2 = this.instance.sessionRecording) || void 0 === t2 || t2.afterDecideResponse(e7), Ve.afterDecideResponse(e7, this.instance), null === (n2 = this.instance.webPerformance) || void 0 === n2 || n2.afterDecideResponse(e7), null === (r2 = this.instance.exceptionAutocapture) || void 0 === r2 || r2.afterDecideResponse(e7), this.instance.featureFlags.receivedFeatureFlags(e7), this.instance.compression = {}, e7.supportedCompression && !this.instance.get_config("disable_compression")) {
        var o2, s2 = {}, a2 = v(e7.supportedCompression);
        try {
          for (a2.s(); !(o2 = a2.n()).done; ) {
            s2[o2.value] = true;
          }
        } catch (e8) {
          a2.e(e8);
        } finally {
          a2.f();
        }
        this.instance.compression = s2;
      }
      if (e7.siteApps)
        if (this.instance.get_config("opt_in_site_apps")) {
          var c2, u2 = this.instance.get_config("api_host"), l2 = v(e7.siteApps);
          try {
            var d2 = function() {
              var e8 = c2.value, t3 = e8.id, n3 = e8.url, r3 = [u2, "/" === u2[u2.length - 1] && "/" === n3[0] ? n3.substring(1) : n3].join("");
              window["__$$ph_site_app_".concat(t3)] = i2.instance, ie(r3, function(e9) {
                e9 && console.error("Error while initializing PostHog app with config id ".concat(t3), e9);
              });
            };
            for (l2.s(); !(c2 = l2.n()).done; )
              d2();
          } catch (e8) {
            l2.e(e8);
          } finally {
            l2.f();
          }
        } else
          e7.siteApps.length > 0 && console.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');
    } else
      console.error("Failed to fetch feature flags from PostHog.");
  } }]), e6;
}();
var Et = ["https://app.posthog.com", "https://eu.posthog.com"];
var xt = ["source"];
var Ot = function() {
  function e6(t2) {
    r(this, e6), this.instance = t2;
  }
  return o(e6, [{ key: "afterDecideResponse", value: function(e7) {
    var n2 = e7.toolbarParams || e7.editorParams || (e7.toolbarVersion ? { toolbarVersion: e7.toolbarVersion } : {});
    e7.isAuthenticated && n2.toolbarVersion && 0 === n2.toolbarVersion.indexOf("toolbar") && this.loadToolbar(t({}, n2));
  } }, { key: "maybeLoadToolbar", value: function() {
    var e7 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.location, t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : void 0, n2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : window.history;
    try {
      if (!t2) {
        try {
          window.localStorage.setItem("test", "test"), window.localStorage.removeItem("test");
        } catch (e8) {
          return false;
        }
        t2 = window.localStorage;
      }
      var r2, i2 = ne(e7.hash, "__posthog") || ne(e7.hash, "state"), o2 = i2 ? JSON.parse(decodeURIComponent(i2)) : null;
      return o2 && "ph_authorize" === o2.action ? ((r2 = o2).source = "url", r2 && Object.keys(r2).length > 0 && (o2.desiredHash ? e7.hash = o2.desiredHash : n2 ? n2.replaceState("", document.title, e7.pathname + e7.search) : e7.hash = "")) : ((r2 = JSON.parse(t2.getItem("_postHogToolbarParams") || "{}")).source = "localstorage", delete r2.userIntent), !(!r2.token || this.instance.get_config("token") !== r2.token) && (this.loadToolbar(r2), true);
    } catch (e8) {
      return false;
    }
  } }, { key: "loadToolbar", value: function(e7) {
    var n2 = this;
    if (window._postHogToolbarLoaded)
      return false;
    window._postHogToolbarLoaded = true;
    var r2 = this.instance.get_config("api_host"), i2 = 3e4 * Math.floor(Date.now() / 3e4), o2 = "".concat(r2).concat(r2.endsWith("/") ? "" : "/", "static/toolbar.js?_ts=").concat(i2), s2 = !Et.includes(this.instance.get_config("api_host")) && this.instance.get_config("advanced_disable_toolbar_metrics"), a2 = t(t({ token: this.instance.get_config("token") }, e7), {}, { apiURL: r2 }, s2 ? { instrument: false } : {});
    a2.source;
    var c2 = l(a2, xt);
    return window.localStorage.setItem("_postHogToolbarParams", JSON.stringify(c2)), ie(o2, function(e8) {
      e8 ? R.error("Failed to load toolbar", e8) : (window.ph_load_toolbar || window.ph_load_editor)(a2, n2.instance);
    }), re(window, "turbolinks:load", function() {
      window._postHogToolbarLoaded = false, n2.loadToolbar(a2);
    }), true;
  } }, { key: "_loadEditor", value: function(e7) {
    return this.loadToolbar(e7);
  } }, { key: "maybeLoadEditor", value: function() {
    var e7 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.location, t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : void 0, n2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : window.history;
    return this.maybeLoadToolbar(e7, t2, n2);
  } }]), e6;
}();
var Pt = function() {
  function e6() {
    var t2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 3e3;
    r(this, e6), this.isPolling = true, this._event_queue = [], this._empty_queue_count = 0, this._poller = void 0, this._pollInterval = t2;
  }
  return o(e6, [{ key: "setPollInterval", value: function(e7) {
    this._pollInterval = e7, this.isPolling && this.poll();
  } }, { key: "poll", value: function() {
  } }, { key: "unload", value: function() {
  } }, { key: "getTime", value: function() {
    return new Date().getTime();
  } }]), e6;
}();
var It = function(e6) {
  a(i2, Pt);
  var n2 = p(i2);
  function i2(e7, t2) {
    var o2, s2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 3e3;
    return r(this, i2), (o2 = n2.call(this, s2)).handlePollRequest = t2, o2.captureMetrics = e7, o2;
  }
  return o(i2, [{ key: "enqueue", value: function(e7, t2, n3) {
    this.captureMetrics.incr("batch-enqueue"), this._event_queue.push({ url: e7, data: t2, options: n3 }), this.isPolling || (this.isPolling = true, this.poll());
  } }, { key: "poll", value: function() {
    var e7 = this;
    clearTimeout(this._poller), this._poller = setTimeout(function() {
      if (e7._event_queue.length > 0) {
        var t2 = e7.formatQueue(), n3 = function(n4) {
          var r3 = t2[n4], i3 = r3.url, o2 = r3.data, s2 = r3.options;
          C(o2, function(t3, n5) {
            o2[n5].offset = Math.abs(o2[n5].timestamp - e7.getTime()), delete o2[n5].timestamp;
          }), e7.handlePollRequest(i3, o2, s2), e7.captureMetrics.incr("batch-requests"), e7.captureMetrics.incr("batch-requests-".concat(i3.slice(i3.length - 2))), e7.captureMetrics.incr("batch-handle", o2.length), e7.captureMetrics.incr("batch-handle-".concat(i3.slice(i3.length - 2)), o2.length);
        };
        for (var r2 in t2)
          n3(r2);
        e7._event_queue.length = 0, e7._empty_queue_count = 0;
      } else
        e7._empty_queue_count++;
      e7._empty_queue_count > 4 && (e7.isPolling = false, e7._empty_queue_count = 0), e7.isPolling && e7.poll();
    }, this._pollInterval);
  } }, { key: "updateUnloadMetrics", value: function() {
    var e7 = this.formatQueue();
    for (var t2 in e7) {
      var n3 = e7[t2], r2 = n3.url, i3 = n3.data;
      this.captureMetrics.incr("batch-unload-requests"), this.captureMetrics.incr("batch-unload-requests-".concat(r2.slice(r2.length - 2))), this.captureMetrics.incr("batch-unload", i3.length), this.captureMetrics.incr("batch-unload-".concat(r2.slice(r2.length - 2)), i3.length);
    }
  } }, { key: "unload", value: function() {
    var e7 = this;
    clearTimeout(this._poller);
    var n3 = this._event_queue.length > 0 ? this.formatQueue() : {};
    this._event_queue.length = 0;
    var r2 = Object.values(n3);
    [].concat(h(r2.filter(function(e8) {
      return 0 === e8.url.indexOf("/e");
    })), h(r2.filter(function(e8) {
      return 0 !== e8.url.indexOf("/e");
    }))).map(function(n4) {
      var r3 = n4.url, i3 = n4.data, o2 = n4.options;
      e7.handlePollRequest(r3, i3, t(t({}, o2), {}, { transport: "sendBeacon" }));
    });
  } }, { key: "formatQueue", value: function() {
    var e7 = {};
    return C(this._event_queue, function(t2) {
      var n3 = t2.url, r2 = t2.data, i3 = t2.options, o2 = (i3 ? i3._batchKey : null) || n3;
      void 0 === e7[o2] && (e7[o2] = { data: [], url: n3, options: i3 }), i3 && e7[o2].options && e7[o2].options._metrics && !e7[o2].options._metrics.rrweb_full_snapshot && (e7[o2].options._metrics.rrweb_full_snapshot = i3._metrics.rrweb_full_snapshot), e7[o2].data.push(r2);
    }), e7;
  } }]), i2;
}();
var $t = function() {
  function e6(t2) {
    r(this, e6), this.enabled = t2, this.metrics = {};
  }
  return o(e6, [{ key: "incr", value: function(e7) {
    var t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
    this.enabled && (e7 = "phjs-".concat(e7), this.metrics[e7] = (this.metrics[e7] || 0) + t2);
  } }, { key: "decr", value: function(e7) {
    this.enabled && (e7 = "phjs-".concat(e7), this.metrics[e7] = (this.metrics[e7] || 0) - 1);
  } }]), e6;
}();
var Tt = Uint8Array;
var Rt = Uint16Array;
var At = Uint32Array;
var Mt = new Tt([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0]);
var Ct = new Tt([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0]);
var jt = new Tt([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);
var Dt = function(e6, t2) {
  for (var n2 = new Rt(31), r2 = 0; r2 < 31; ++r2)
    n2[r2] = t2 += 1 << e6[r2 - 1];
  var i2 = new At(n2[30]);
  for (r2 = 1; r2 < 30; ++r2)
    for (var o2 = n2[r2]; o2 < n2[r2 + 1]; ++o2)
      i2[o2] = o2 - n2[r2] << 5 | r2;
  return [n2, i2];
};
var Nt = Dt(Mt, 2);
var qt = Nt[0];
var Ht = Nt[1];
qt[28] = 258, Ht[258] = 28;
for (Lt = Dt(Ct, 0)[1], Bt = new Rt(32768), Ut = 0; Ut < 32768; ++Ut) {
  Vt = (43690 & Ut) >>> 1 | (21845 & Ut) << 1;
  Vt = (61680 & (Vt = (52428 & Vt) >>> 2 | (13107 & Vt) << 2)) >>> 4 | (3855 & Vt) << 4, Bt[Ut] = ((65280 & Vt) >>> 8 | (255 & Vt) << 8) >>> 1;
}
var Vt;
var Lt;
var Bt;
var Ut;
var Gt = function(e6, t2, n2) {
  for (var r2 = e6.length, i2 = 0, o2 = new Rt(t2); i2 < r2; ++i2)
    ++o2[e6[i2] - 1];
  var s2, a2 = new Rt(t2);
  for (i2 = 0; i2 < t2; ++i2)
    a2[i2] = a2[i2 - 1] + o2[i2 - 1] << 1;
  if (n2) {
    s2 = new Rt(1 << t2);
    var c2 = 15 - t2;
    for (i2 = 0; i2 < r2; ++i2)
      if (e6[i2])
        for (var u2 = i2 << 4 | e6[i2], l2 = t2 - e6[i2], d2 = a2[e6[i2] - 1]++ << l2, p2 = d2 | (1 << l2) - 1; d2 <= p2; ++d2)
          s2[Bt[d2] >>> c2] = u2;
  } else
    for (s2 = new Rt(r2), i2 = 0; i2 < r2; ++i2)
      s2[i2] = Bt[a2[e6[i2] - 1]++] >>> 15 - e6[i2];
  return s2;
};
var Wt = new Tt(288);
for (Ut = 0; Ut < 144; ++Ut)
  Wt[Ut] = 8;
for (Ut = 144; Ut < 256; ++Ut)
  Wt[Ut] = 9;
for (Ut = 256; Ut < 280; ++Ut)
  Wt[Ut] = 7;
for (Ut = 280; Ut < 288; ++Ut)
  Wt[Ut] = 8;
var zt = new Tt(32);
for (Ut = 0; Ut < 32; ++Ut)
  zt[Ut] = 5;
var Qt;
var Jt = Gt(Wt, 9, 0);
var Xt = Gt(zt, 5, 0);
var Zt = function(e6) {
  return (e6 / 8 >> 0) + (7 & e6 && 1);
};
var Yt = function(e6, t2, n2) {
  (null == t2 || t2 < 0) && (t2 = 0), (null == n2 || n2 > e6.length) && (n2 = e6.length);
  var r2 = new (e6 instanceof Rt ? Rt : e6 instanceof At ? At : Tt)(n2 - t2);
  return r2.set(e6.subarray(t2, n2)), r2;
};
var Kt = function(e6, t2, n2) {
  n2 <<= 7 & t2;
  var r2 = t2 / 8 >> 0;
  e6[r2] |= n2, e6[r2 + 1] |= n2 >>> 8;
};
var en = function(e6, t2, n2) {
  n2 <<= 7 & t2;
  var r2 = t2 / 8 >> 0;
  e6[r2] |= n2, e6[r2 + 1] |= n2 >>> 8, e6[r2 + 2] |= n2 >>> 16;
};
var tn = function(e6, t2) {
  for (var n2 = [], r2 = 0; r2 < e6.length; ++r2)
    e6[r2] && n2.push({ s: r2, f: e6[r2] });
  var i2 = n2.length, o2 = n2.slice();
  if (!i2)
    return [new Tt(0), 0];
  if (1 == i2) {
    var s2 = new Tt(n2[0].s + 1);
    return s2[n2[0].s] = 1, [s2, 1];
  }
  n2.sort(function(e7, t3) {
    return e7.f - t3.f;
  }), n2.push({ s: -1, f: 25001 });
  var a2 = n2[0], c2 = n2[1], u2 = 0, l2 = 1, d2 = 2;
  for (n2[0] = { s: -1, f: a2.f + c2.f, l: a2, r: c2 }; l2 != i2 - 1; )
    a2 = n2[n2[u2].f < n2[d2].f ? u2++ : d2++], c2 = n2[u2 != l2 && n2[u2].f < n2[d2].f ? u2++ : d2++], n2[l2++] = { s: -1, f: a2.f + c2.f, l: a2, r: c2 };
  var p2 = o2[0].s;
  for (r2 = 1; r2 < i2; ++r2)
    o2[r2].s > p2 && (p2 = o2[r2].s);
  var f2 = new Rt(p2 + 1), h2 = nn(n2[l2 - 1], f2, 0);
  if (h2 > t2) {
    r2 = 0;
    var _2 = 0, g2 = h2 - t2, v2 = 1 << g2;
    for (o2.sort(function(e7, t3) {
      return f2[t3.s] - f2[e7.s] || e7.f - t3.f;
    }); r2 < i2; ++r2) {
      var y2 = o2[r2].s;
      if (!(f2[y2] > t2))
        break;
      _2 += v2 - (1 << h2 - f2[y2]), f2[y2] = t2;
    }
    for (_2 >>>= g2; _2 > 0; ) {
      var m2 = o2[r2].s;
      f2[m2] < t2 ? _2 -= 1 << t2 - f2[m2]++ - 1 : ++r2;
    }
    for (; r2 >= 0 && _2; --r2) {
      var b2 = o2[r2].s;
      f2[b2] == t2 && (--f2[b2], ++_2);
    }
    h2 = t2;
  }
  return [new Tt(f2), h2];
};
var nn = function e3(t2, n2, r2) {
  return -1 == t2.s ? Math.max(e3(t2.l, n2, r2 + 1), e3(t2.r, n2, r2 + 1)) : n2[t2.s] = r2;
};
var rn = function(e6) {
  for (var t2 = e6.length; t2 && !e6[--t2]; )
    ;
  for (var n2 = new Rt(++t2), r2 = 0, i2 = e6[0], o2 = 1, s2 = function(e7) {
    n2[r2++] = e7;
  }, a2 = 1; a2 <= t2; ++a2)
    if (e6[a2] == i2 && a2 != t2)
      ++o2;
    else {
      if (!i2 && o2 > 2) {
        for (; o2 > 138; o2 -= 138)
          s2(32754);
        o2 > 2 && (s2(o2 > 10 ? o2 - 11 << 5 | 28690 : o2 - 3 << 5 | 12305), o2 = 0);
      } else if (o2 > 3) {
        for (s2(i2), --o2; o2 > 6; o2 -= 6)
          s2(8304);
        o2 > 2 && (s2(o2 - 3 << 5 | 8208), o2 = 0);
      }
      for (; o2--; )
        s2(i2);
      o2 = 1, i2 = e6[a2];
    }
  return [n2.subarray(0, r2), t2];
};
var on = function(e6, t2) {
  for (var n2 = 0, r2 = 0; r2 < t2.length; ++r2)
    n2 += e6[r2] * t2[r2];
  return n2;
};
var sn = function(e6, t2, n2) {
  var r2 = n2.length, i2 = Zt(t2 + 2);
  e6[i2] = 255 & r2, e6[i2 + 1] = r2 >>> 8, e6[i2 + 2] = 255 ^ e6[i2], e6[i2 + 3] = 255 ^ e6[i2 + 1];
  for (var o2 = 0; o2 < r2; ++o2)
    e6[i2 + o2 + 4] = n2[o2];
  return 8 * (i2 + 4 + r2);
};
var an = function(e6, t2, n2, r2, i2, o2, s2, a2, c2, u2, l2) {
  Kt(t2, l2++, n2), ++i2[256];
  for (var d2 = tn(i2, 15), p2 = d2[0], f2 = d2[1], h2 = tn(o2, 15), _2 = h2[0], g2 = h2[1], v2 = rn(p2), y2 = v2[0], m2 = v2[1], b2 = rn(_2), w2 = b2[0], k2 = b2[1], S2 = new Rt(19), F2 = 0; F2 < y2.length; ++F2)
    S2[31 & y2[F2]]++;
  for (F2 = 0; F2 < w2.length; ++F2)
    S2[31 & w2[F2]]++;
  for (var E2 = tn(S2, 7), x2 = E2[0], O2 = E2[1], P2 = 19; P2 > 4 && !x2[jt[P2 - 1]]; --P2)
    ;
  var I2, $2, T2, R2, A2 = u2 + 5 << 3, M2 = on(i2, Wt) + on(o2, zt) + s2, C2 = on(i2, p2) + on(o2, _2) + s2 + 14 + 3 * P2 + on(S2, x2) + (2 * S2[16] + 3 * S2[17] + 7 * S2[18]);
  if (A2 <= M2 && A2 <= C2)
    return sn(t2, l2, e6.subarray(c2, c2 + u2));
  if (Kt(t2, l2, 1 + (C2 < M2)), l2 += 2, C2 < M2) {
    I2 = Gt(p2, f2, 0), $2 = p2, T2 = Gt(_2, g2, 0), R2 = _2;
    var j2 = Gt(x2, O2, 0);
    Kt(t2, l2, m2 - 257), Kt(t2, l2 + 5, k2 - 1), Kt(t2, l2 + 10, P2 - 4), l2 += 14;
    for (F2 = 0; F2 < P2; ++F2)
      Kt(t2, l2 + 3 * F2, x2[jt[F2]]);
    l2 += 3 * P2;
    for (var D2 = [y2, w2], N2 = 0; N2 < 2; ++N2) {
      var q2 = D2[N2];
      for (F2 = 0; F2 < q2.length; ++F2) {
        var H2 = 31 & q2[F2];
        Kt(t2, l2, j2[H2]), l2 += x2[H2], H2 > 15 && (Kt(t2, l2, q2[F2] >>> 5 & 127), l2 += q2[F2] >>> 12);
      }
    }
  } else
    I2 = Jt, $2 = Wt, T2 = Xt, R2 = zt;
  for (F2 = 0; F2 < a2; ++F2)
    if (r2[F2] > 255) {
      H2 = r2[F2] >>> 18 & 31;
      en(t2, l2, I2[H2 + 257]), l2 += $2[H2 + 257], H2 > 7 && (Kt(t2, l2, r2[F2] >>> 23 & 31), l2 += Mt[H2]);
      var L2 = 31 & r2[F2];
      en(t2, l2, T2[L2]), l2 += R2[L2], L2 > 3 && (en(t2, l2, r2[F2] >>> 5 & 8191), l2 += Ct[L2]);
    } else
      en(t2, l2, I2[r2[F2]]), l2 += $2[r2[F2]];
  return en(t2, l2, I2[256]), l2 + $2[256];
};
var cn = new At([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);
var un = new Tt(0);
var ln = function() {
  for (var e6 = new At(256), t2 = 0; t2 < 256; ++t2) {
    for (var n2 = t2, r2 = 9; --r2; )
      n2 = (1 & n2 && 3988292384) ^ n2 >>> 1;
    e6[t2] = n2;
  }
  return e6;
}();
var dn = function() {
  var e6 = 4294967295;
  return { p: function(t2) {
    for (var n2 = e6, r2 = 0; r2 < t2.length; ++r2)
      n2 = ln[255 & n2 ^ t2[r2]] ^ n2 >>> 8;
    e6 = n2;
  }, d: function() {
    return 4294967295 ^ e6;
  } };
};
var pn = function(e6, t2, n2, r2, i2) {
  return function(e7, t3, n3, r3, i3, o2) {
    var s2 = e7.length, a2 = new Tt(r3 + s2 + 5 * (1 + Math.floor(s2 / 7e3)) + i3), c2 = a2.subarray(r3, a2.length - i3), u2 = 0;
    if (!t3 || s2 < 8)
      for (var l2 = 0; l2 <= s2; l2 += 65535) {
        var d2 = l2 + 65535;
        d2 < s2 ? u2 = sn(c2, u2, e7.subarray(l2, d2)) : (c2[l2] = o2, u2 = sn(c2, u2, e7.subarray(l2, s2)));
      }
    else {
      for (var p2 = cn[t3 - 1], f2 = p2 >>> 13, h2 = 8191 & p2, _2 = (1 << n3) - 1, g2 = new Rt(32768), v2 = new Rt(_2 + 1), y2 = Math.ceil(n3 / 3), m2 = 2 * y2, b2 = function(t4) {
        return (e7[t4] ^ e7[t4 + 1] << y2 ^ e7[t4 + 2] << m2) & _2;
      }, w2 = new At(25e3), k2 = new Rt(288), S2 = new Rt(32), F2 = 0, E2 = 0, x2 = (l2 = 0, 0), O2 = 0, P2 = 0; l2 < s2; ++l2) {
        var I2 = b2(l2), $2 = 32767 & l2, T2 = v2[I2];
        if (g2[$2] = T2, v2[I2] = $2, O2 <= l2) {
          var R2 = s2 - l2;
          if ((F2 > 7e3 || x2 > 24576) && R2 > 423) {
            u2 = an(e7, c2, 0, w2, k2, S2, E2, x2, P2, l2 - P2, u2), x2 = F2 = E2 = 0, P2 = l2;
            for (var A2 = 0; A2 < 286; ++A2)
              k2[A2] = 0;
            for (A2 = 0; A2 < 30; ++A2)
              S2[A2] = 0;
          }
          var M2 = 2, C2 = 0, j2 = h2, D2 = $2 - T2 & 32767;
          if (R2 > 2 && I2 == b2(l2 - D2))
            for (var N2 = Math.min(f2, R2) - 1, q2 = Math.min(32767, l2), H2 = Math.min(258, R2); D2 <= q2 && --j2 && $2 != T2; ) {
              if (e7[l2 + M2] == e7[l2 + M2 - D2]) {
                for (var L2 = 0; L2 < H2 && e7[l2 + L2] == e7[l2 + L2 - D2]; ++L2)
                  ;
                if (L2 > M2) {
                  if (M2 = L2, C2 = D2, L2 > N2)
                    break;
                  var B2 = Math.min(D2, L2 - 2), U2 = 0;
                  for (A2 = 0; A2 < B2; ++A2) {
                    var V2 = l2 - D2 + A2 + 32768 & 32767, G2 = V2 - g2[V2] + 32768 & 32767;
                    G2 > U2 && (U2 = G2, T2 = V2);
                  }
                }
              }
              D2 += ($2 = T2) - (T2 = g2[$2]) + 32768 & 32767;
            }
          if (C2) {
            w2[x2++] = 268435456 | Ht[M2] << 18 | Lt[C2];
            var W2 = 31 & Ht[M2], z2 = 31 & Lt[C2];
            E2 += Mt[W2] + Ct[z2], ++k2[257 + W2], ++S2[z2], O2 = l2 + M2, ++F2;
          } else
            w2[x2++] = e7[l2], ++k2[e7[l2]];
        }
      }
      u2 = an(e7, c2, o2, w2, k2, S2, E2, x2, P2, l2 - P2, u2), o2 || (u2 = sn(c2, u2, un));
    }
    return Yt(a2, 0, r3 + Zt(u2) + i3);
  }(e6, null == t2.level ? 6 : t2.level, null == t2.mem ? Math.ceil(1.5 * Math.max(8, Math.min(13, Math.log(e6.length)))) : 12 + t2.mem, n2, r2, !i2);
};
var fn = function(e6, t2, n2) {
  for (; n2; ++t2)
    e6[t2] = n2, n2 >>>= 8;
};
var hn = function(e6, t2) {
  var n2 = t2.filename;
  if (e6[0] = 31, e6[1] = 139, e6[2] = 8, e6[8] = t2.level < 2 ? 4 : 9 == t2.level ? 2 : 0, e6[9] = 3, 0 != t2.mtime && fn(e6, 4, Math.floor(new Date(t2.mtime || Date.now()) / 1e3)), n2) {
    e6[3] = 8;
    for (var r2 = 0; r2 <= n2.length; ++r2)
      e6[r2 + 10] = n2.charCodeAt(r2);
  }
};
var _n = function(e6) {
  return 10 + (e6.filename && e6.filename.length + 1 || 0);
};
function gn(e6, t2) {
  void 0 === t2 && (t2 = {});
  var n2 = dn(), r2 = e6.length;
  n2.p(e6);
  var i2 = pn(e6, t2, _n(t2), 8), o2 = i2.length;
  return hn(i2, t2), fn(i2, o2 - 8, n2.d()), fn(i2, o2 - 4, r2), i2;
}
function vn(e6, t2) {
  var n2 = e6.length;
  if (!t2 && "undefined" != typeof TextEncoder)
    return new TextEncoder().encode(e6);
  for (var r2 = new Tt(e6.length + (e6.length >>> 1)), i2 = 0, o2 = function(e7) {
    r2[i2++] = e7;
  }, s2 = 0; s2 < n2; ++s2) {
    if (i2 + 5 > r2.length) {
      var a2 = new Tt(i2 + 8 + (n2 - s2 << 1));
      a2.set(r2), r2 = a2;
    }
    var c2 = e6.charCodeAt(s2);
    c2 < 128 || t2 ? o2(c2) : c2 < 2048 ? (o2(192 | c2 >>> 6), o2(128 | 63 & c2)) : c2 > 55295 && c2 < 57344 ? (o2(240 | (c2 = 65536 + (1047552 & c2) | 1023 & e6.charCodeAt(++s2)) >>> 18), o2(128 | c2 >>> 12 & 63), o2(128 | c2 >>> 6 & 63), o2(128 | 63 & c2)) : (o2(224 | c2 >>> 12), o2(128 | c2 >>> 6 & 63), o2(128 | 63 & c2));
  }
  return Yt(r2, 0, i2);
}
!function(e6) {
  e6.GZipJS = "gzip-js", e6.Base64 = "base64";
}(Qt || (Qt = {}));
var yn = function(e6, t2, n2) {
  var r2 = t2 || {};
  r2.ip = n2.ip ? 1 : 0, r2._ = new Date().getTime().toString(), r2.ver = y.LIB_VERSION;
  var i2 = e6.split("?");
  if (i2.length > 1) {
    var o2, s2 = v(i2[1].split("&"));
    try {
      for (s2.s(); !(o2 = s2.n()).done; ) {
        var a2 = o2.value.split("=")[0];
        r2[a2] && delete r2[a2];
      }
    } catch (e7) {
      s2.e(e7);
    } finally {
      s2.f();
    }
  }
  var c2 = e6.indexOf("?") > -1 ? "&" : "?";
  return e6 + c2 + function(e7) {
    var t3, n3, r3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "&", i3 = [];
    return C(e7, function(e8, r4) {
      t3 = encodeURIComponent(e8.toString()), n3 = encodeURIComponent(r4), i3[i3.length] = n3 + "=" + t3;
    }), i3.join(r3);
  }(r2);
};
var mn = function e4(t2, n2) {
  if (n2.blob && t2.buffer)
    return new Blob([t2.buffer], { type: "text/plain" });
  if (n2.sendBeacon || n2.blob) {
    var r2 = e4(t2, { method: "POST" });
    return new Blob([r2], { type: "application/x-www-form-urlencoded" });
  }
  if ("POST" !== n2.method)
    return null;
  var i2, o2;
  return i2 = Array.isArray(t2) || (o2 = t2, "[object Uint8Array]" === Object.prototype.toString.call(o2)) ? "data=" + encodeURIComponent(t2) : "data=" + encodeURIComponent(t2.data), "compression" in t2 && t2.compression && (i2 += "&compression=" + t2.compression), i2;
};
var bn = function(e6) {
  var t2 = e6.url, n2 = e6.data, r2 = e6.headers, i2 = e6.options, o2 = e6.captureMetrics, s2 = e6.callback, a2 = e6.retriesPerformedSoFar, c2 = e6.retryQueue, u2 = e6.onXHRError, l2 = e6.timeout, d2 = void 0 === l2 ? 1e4 : l2, p2 = new XMLHttpRequest();
  p2.open(i2.method || "GET", t2, true);
  var f2 = mn(n2, i2);
  o2.incr("_send_request"), o2.incr("_send_request_inflight"), C(r2, function(e7, t3) {
    p2.setRequestHeader(t3, e7);
  }), "POST" !== i2.method || i2.blob || p2.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), p2.timeout = d2, p2.withCredentials = true, p2.onreadystatechange = function() {
    if (4 === p2.readyState)
      if (o2.incr("xhr-response"), o2.incr("xhr-response-".concat(p2.status)), o2.decr("_send_request_inflight"), 200 === p2.status) {
        if (s2) {
          var e7;
          try {
            e7 = JSON.parse(p2.responseText);
          } catch (e8) {
            return void R.error(e8);
          }
          s2(e7);
        }
      } else
        "function" == typeof u2 && u2(p2), [401, 403, 404, 500].indexOf(p2.status) < 0 && c2.enqueue({ url: t2, data: n2, options: i2, headers: r2, retriesPerformedSoFar: (a2 || 0) + 1, callback: s2 }), s2 && s2({ status: 0 });
  }, p2.send(f2);
};
var wn = function(e6) {
  a(i2, Pt);
  var n2 = p(i2);
  function i2(e7, t2) {
    var o2;
    return r(this, i2), (o2 = n2.call(this)).captureMetrics = e7, o2.isPolling = false, o2.queue = [], o2.areWeOnline = true, o2.onXHRError = t2, "undefined" != typeof window && "onLine" in window.navigator && (o2.areWeOnline = window.navigator.onLine, window.addEventListener("online", function() {
      o2._handleWeAreNowOnline();
    }), window.addEventListener("offline", function() {
      o2.areWeOnline = false;
    })), o2;
  }
  return o(i2, [{ key: "enqueue", value: function(e7) {
    var t2 = e7.retriesPerformedSoFar || 0;
    if (!(t2 >= 10)) {
      var n3 = 3e3 * Math.pow(2, t2), r2 = new Date(Date.now() + n3);
      console.warn("Enqueued failed request for retry in ".concat(n3)), this.queue.push({ retryAt: r2, requestData: e7 }), this.isPolling || (this.isPolling = true, this.poll());
    }
  } }, { key: "poll", value: function() {
    var e7 = this;
    this._poller && clearTimeout(this._poller), this._poller = setTimeout(function() {
      e7.areWeOnline && e7.queue.length > 0 && e7.flush(), e7.poll();
    }, this._pollInterval);
  } }, { key: "flush", value: function() {
    var e7 = new Date(Date.now()), t2 = this.queue.filter(function(t3) {
      return t3.retryAt < e7;
    });
    if (t2.length > 0) {
      this.queue = this.queue.filter(function(t3) {
        return t3.retryAt >= e7;
      });
      var n3, r2 = v(t2);
      try {
        for (r2.s(); !(n3 = r2.n()).done; ) {
          var i3 = n3.value.requestData;
          this._executeXhrRequest(i3);
        }
      } catch (e8) {
        r2.e(e8);
      } finally {
        r2.f();
      }
    }
  } }, { key: "unload", value: function() {
    this._poller && (clearTimeout(this._poller), this._poller = void 0);
    var e7, n3 = v(this.queue);
    try {
      for (n3.s(); !(e7 = n3.n()).done; ) {
        var r2 = e7.value.requestData, i3 = r2.url, o2 = r2.data, s2 = r2.options;
        try {
          window.navigator.sendBeacon(i3, mn(o2, t(t({}, s2), {}, { sendBeacon: true })));
        } catch (e8) {
          y.DEBUG && console.error(e8);
        }
      }
    } catch (e8) {
      n3.e(e8);
    } finally {
      n3.f();
    }
    this.queue = [];
  } }, { key: "_executeXhrRequest", value: function(e7) {
    var t2 = e7.url, n3 = e7.data, r2 = e7.options, i3 = e7.headers, o2 = e7.callback, s2 = e7.retriesPerformedSoFar;
    bn({ url: t2, data: n3 || {}, options: r2 || {}, headers: i3 || {}, retriesPerformedSoFar: s2 || 0, callback: o2, captureMetrics: this.captureMetrics, retryQueue: this, onXHRError: this.onXHRError });
  } }, { key: "_handleWeAreNowOnline", value: function() {
    this.areWeOnline = true, this.flush();
  } }]), i2;
}();
var kn = 18e5;
var Sn = 864e5;
var Fn = function() {
  function e6(t2, n2) {
    r(this, e6), this.config = t2, this.persistence = n2, this._windowId = void 0, this._sessionId = void 0, this._sessionStartTimestamp = null, this._sessionActivityTimestamp = null;
    var i2 = t2.persistence_name || t2.token;
    if (this.window_id_storage_key = "ph_" + i2 + "_window_id", this.primary_window_exists_storage_key = "ph_" + i2 + "_primary_window_exists", this._canUseSessionStorage()) {
      var o2 = Oe.parse(this.window_id_storage_key), s2 = Oe.parse(this.primary_window_exists_storage_key);
      o2 && !s2 ? this._windowId = o2 : Oe.remove(this.window_id_storage_key), Oe.set(this.primary_window_exists_storage_key, true);
    }
    this._listenToReloadWindow();
  }
  return o(e6, [{ key: "_canUseSessionStorage", value: function() {
    return "memory" !== this.config.persistence && !this.persistence.disabled && Oe.is_supported();
  } }, { key: "_setWindowId", value: function(e7) {
    e7 !== this._windowId && (this._windowId = e7, this._canUseSessionStorage() && Oe.set(this.window_id_storage_key, e7));
  } }, { key: "_getWindowId", value: function() {
    return this._windowId ? this._windowId : this._canUseSessionStorage() ? Oe.parse(this.window_id_storage_key) : null;
  } }, { key: "_setSessionId", value: function(e7, t2, n2) {
    e7 === this._sessionId && t2 === this._sessionActivityTimestamp && n2 === this._sessionStartTimestamp || (this._sessionStartTimestamp = n2, this._sessionActivityTimestamp = t2, this._sessionId = e7, this.persistence.register(s({}, Ce, [t2, e7, n2])));
  } }, { key: "_getSessionId", value: function() {
    if (this._sessionId && this._sessionActivityTimestamp && this._sessionStartTimestamp)
      return [this._sessionActivityTimestamp, this._sessionId, this._sessionStartTimestamp];
    var e7 = this.persistence.props[Ce];
    return Array.isArray(e7) && 2 === e7.length && e7.push(e7[0]), e7 || [0, null, 0];
  } }, { key: "resetSessionId", value: function() {
    this._setSessionId(null, null, null);
  } }, { key: "_listenToReloadWindow", value: function() {
    var e7 = this;
    window.addEventListener("beforeunload", function() {
      e7._canUseSessionStorage() && Oe.remove(e7.primary_window_exists_storage_key);
    });
  } }, { key: "checkAndGetSessionAndWindowId", value: function() {
    var e7 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], t2 = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null) || new Date().getTime(), n2 = f(this._getSessionId(), 3), r2 = n2[0], i2 = n2[1], o2 = n2[2], s2 = this._getWindowId(), a2 = o2 && o2 > 0 && Math.abs(t2 - o2) > Sn;
    !i2 || !e7 && Math.abs(t2 - r2) > kn || a2 ? (i2 = K(), s2 = K(), o2 = t2) : s2 || (s2 = K());
    var c2 = 0 === r2 || !e7 || a2 ? t2 : r2, u2 = 0 === o2 ? new Date().getTime() : o2;
    return this._setWindowId(s2), this._setSessionId(i2, c2, u2), { sessionId: i2, windowId: s2 };
  } }]), e6;
}();
var En = o(function e5(t2, n2, i2, o2) {
  r(this, e5), this.name = "posthog-js", this.setupOnce = function(e6) {
    e6(function(e7) {
      var r2, s2, a2, c2, u2;
      if ("error" !== e7.level || !t2.__loaded)
        return e7;
      e7.tags || (e7.tags = {});
      var l2 = t2.config.ui_host || t2.config.api_host;
      e7.tags["PostHog Person URL"] = l2 + "/person/" + t2.get_distinct_id(), t2.sessionRecordingStarted() && (e7.tags["PostHog Recording URL"] = t2.get_session_replay_url({ withTimestamp: true }));
      var d2 = (null === (r2 = e7.exception) || void 0 === r2 ? void 0 : r2.values) || [], p2 = { $exception_message: null === (s2 = d2[0]) || void 0 === s2 ? void 0 : s2.value, $exception_type: null === (a2 = d2[0]) || void 0 === a2 ? void 0 : a2.type, $exception_personURL: l2 + "/person/" + t2.get_distinct_id(), $sentry_event_id: e7.event_id, $sentry_exception: e7.exception, $sentry_exception_message: null === (c2 = d2[0]) || void 0 === c2 ? void 0 : c2.value, $sentry_exception_type: null === (u2 = d2[0]) || void 0 === u2 ? void 0 : u2.type, $sentry_tags: e7.tags };
      return n2 && i2 && (p2.$sentry_url = (o2 || "https://sentry.io/organizations/") + n2 + "/issues/?project=" + i2 + "&query=" + e7.event_id), t2.capture("$exception", p2), e7;
    });
  };
});
var xn = function(e6) {
  var t2 = function(t3, n2) {
    t3.event.userId || t3.event.anonymousId === e6.get_distinct_id() || e6.reset(), t3.event.userId && t3.event.userId !== e6.get_distinct_id() && (e6.register({ distinct_id: t3.event.userId }), e6.reloadFeatureFlags());
    var r2 = e6._calculate_event_properties(n2, t3.event.properties);
    return t3.event.properties = Object.assign({}, r2, t3.event.properties), t3;
  };
  return { name: "PostHog JS", type: "enrichment", version: "1.0.0", isLoaded: function() {
    return true;
  }, load: function() {
    return Promise.resolve();
  }, track: function(e7) {
    return t2(e7, e7.event.event);
  }, page: function(e7) {
    return t2(e7, "$pageview");
  }, identify: function(e7) {
    return t2(e7, "$identify");
  }, screen: function(e7) {
    return t2(e7, "$screen");
  } };
};
var On = function() {
  function e6() {
    r(this, e6), s(this, "_seenFirstPageView", false);
  }
  return o(e6, [{ key: "onPageview", value: function() {
    this._seenFirstPageView && (this._pageViewId = K()), this._seenFirstPageView = true;
  } }, { key: "getPageViewId", value: function() {
    return this._pageViewId || (this._pageViewId = K()), this._pageViewId;
  } }]), e6;
}();
function Pn(e6) {
  return "undefined" != typeof Event && In(e6, Event);
}
function In(e6, t2) {
  try {
    return e6 instanceof t2;
  } catch (e7) {
    return false;
  }
}
function $n(e6, t2) {
  return Object.prototype.toString.call(e6) === "[object ".concat(t2, "]");
}
function Tn(e6) {
  return $n(e6, "DOMError");
}
var Rn = /\(error: (.*)\)/;
var An = 50;
var Mn = "?";
function Cn(e6, t2, n2, r2) {
  var i2 = { filename: e6, function: t2, in_app: true };
  return void 0 !== n2 && (i2.lineno = n2), void 0 !== r2 && (i2.colno = r2), i2;
}
var jn = /^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i;
var Dn = /\((\S*)(?::(\d+))(?::(\d+))\)/;
var Nn = /^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i;
var qn = /(\S+) line (\d+)(?: > eval line \d+)* > eval/i;
var Hn = /^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i;
var Ln = function() {
  for (var e6 = arguments.length, n2 = new Array(e6), r2 = 0; r2 < e6; r2++)
    n2[r2] = arguments[r2];
  var i2 = n2.sort(function(e7, t2) {
    return e7[0] - t2[0];
  }).map(function(e7) {
    return e7[1];
  });
  return function(e7) {
    for (var n3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, r3 = [], o2 = e7.split("\n"), s2 = n3; s2 < o2.length; s2++) {
      var a2 = o2[s2];
      if (!(a2.length > 1024)) {
        var c2 = Rn.test(a2) ? a2.replace(Rn, "$1") : a2;
        if (!c2.match(/\S*Error: /)) {
          var u2, l2 = v(i2);
          try {
            for (l2.s(); !(u2 = l2.n()).done; ) {
              var d2 = (0, u2.value)(c2);
              if (d2) {
                r3.push(d2);
                break;
              }
            }
          } catch (e8) {
            l2.e(e8);
          } finally {
            l2.f();
          }
          if (r3.length >= An)
            break;
        }
      }
    }
    return function(e8) {
      if (!e8.length)
        return [];
      var n4 = e8.slice(0, An);
      return n4.reverse(), n4.map(function(e9) {
        return t(t({}, e9), {}, { filename: e9.filename || n4[n4.length - 1].filename, function: e9.function || "?" });
      });
    }(r3);
  };
}.apply(void 0, [[30, function(e6) {
  var t2 = jn.exec(e6);
  if (t2) {
    if (t2[2] && 0 === t2[2].indexOf("eval")) {
      var n2 = Dn.exec(t2[2]);
      n2 && (t2[2] = n2[1], t2[3] = n2[2], t2[4] = n2[3]);
    }
    var r2 = f(Bn(t2[1] || Mn, t2[2]), 2), i2 = r2[0];
    return Cn(r2[1], i2, t2[3] ? +t2[3] : void 0, t2[4] ? +t2[4] : void 0);
  }
}], [50, function(e6) {
  var t2 = Nn.exec(e6);
  if (t2) {
    if (t2[3] && t2[3].indexOf(" > eval") > -1) {
      var n2 = qn.exec(t2[3]);
      n2 && (t2[1] = t2[1] || "eval", t2[3] = n2[1], t2[4] = n2[2], t2[5] = "");
    }
    var r2 = t2[3], i2 = t2[1] || Mn, o2 = f(Bn(i2, r2), 2);
    return i2 = o2[0], Cn(r2 = o2[1], i2, t2[4] ? +t2[4] : void 0, t2[5] ? +t2[5] : void 0);
  }
}], [40, function(e6) {
  var t2 = Hn.exec(e6);
  return t2 ? Cn(t2[2], t2[1] || Mn, +t2[3], t2[4] ? +t2[4] : void 0) : void 0;
}]]);
var Bn = function(e6, t2) {
  var n2 = -1 !== e6.indexOf("safari-extension"), r2 = -1 !== e6.indexOf("safari-web-extension");
  return n2 || r2 ? [-1 !== e6.indexOf("@") ? e6.split("@")[0] : Mn, n2 ? "safari-extension:".concat(t2) : "safari-web-extension:".concat(t2)] : [e6, t2];
};
var Un = /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;
var Vn = /Minified React error #\d+;/i;
function Gn(e6) {
  var t2 = e6.stacktrace || e6.stack || "", n2 = function(e7) {
    if (e7) {
      if ("number" == typeof e7.framesToPop)
        return e7.framesToPop;
      if (Vn.test(e7.message))
        return 1;
    }
    return 0;
  }(e6);
  try {
    return Ln(t2, n2);
  } catch (e7) {
  }
  return [];
}
function Wn(e6) {
  var t2 = Gn(e6);
  return { $exception_type: e6.name, $exception_message: e6.message, $exception_stack_trace_raw: JSON.stringify(t2) };
}
function zn(e6) {
  var t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 40, n2 = Object.keys(e6);
  if (n2.sort(), !n2.length)
    return "[object has no keys]";
  for (var r2 = n2.length; r2 > 0; r2--) {
    var i2 = n2.slice(0, r2).join(", ");
    if (!(i2.length > t2))
      return r2 === n2.length || i2.length <= t2 ? i2 : "".concat(i2.slice(0, t2), "...");
  }
  return "";
}
function Qn(e6) {
  var n2 = f(e6, 5), r2 = n2[0], i2 = n2[1], o2 = n2[2], s2 = n2[3], a2 = n2[4], c2 = {};
  if (void 0 === a2 && "string" == typeof r2) {
    var u2 = "Error", l2 = r2, d2 = r2.match(Un);
    d2 && (u2 = d2[1], l2 = d2[2]), c2 = { $exception_type: u2, $exception_message: l2 };
  }
  var p2 = a2 || r2;
  if (function(e7) {
    return $n(e7, "ErrorEvent");
  }(p2) && p2.error)
    c2 = Wn(p2.error);
  else if (Tn(p2) || function(e7) {
    return $n(e7, "DOMException");
  }(p2)) {
    var h2 = p2;
    if (function(e7) {
      return "stack" in e7;
    }(p2))
      c2 = Wn(p2);
    else {
      var _2 = h2.name || (Tn(h2) ? "DOMError" : "DOMException"), g2 = h2.message ? "".concat(_2, ": ").concat(h2.message) : _2;
      c2 = function(e7) {
        return { $exception_type: "Error", $exception_message: e7 };
      }(g2), c2.$exception_type = c2.$exception_type || "Error", c2.$exception_message = c2.$exception_message || g2;
    }
    "code" in h2 && (c2.$exception_DOMException_code = "".concat(h2.code));
  } else if (function(e7) {
    switch (Object.prototype.toString.call(e7)) {
      case "[object Error]":
      case "[object Exception]":
      case "[object DOMException]":
        return true;
      default:
        return In(e7, Error);
    }
  }(p2))
    c2 = Wn(p2);
  else if (function(e7) {
    return $n(e7, "Object");
  }(p2) || Pn(p2)) {
    c2 = function(e7) {
      return { $exception_type: Pn(e7) ? e7.constructor.name : "Error", $exception_message: "Non-Error ".concat("exception", " captured with keys: ", zn(e7)) };
    }(p2), c2.$exception_is_synthetic = true;
  } else
    c2.$exception_type = c2.$exception_type || "Error", c2.$exception_message = c2.$exception_message || p2, c2.$exception_is_synthetic = true;
  return t(t(t(t({}, c2), {}, { $exception_type: c2.$exception_type || "UnknownErrorType", $exception_message: c2.$exception_message || "" }, i2 ? { $exception_source: i2 } : {}), o2 ? { $exception_lineno: o2 } : {}), s2 ? { $exception_colno: s2 } : {});
}
function Jn(e6) {
  var r2 = f(e6, 1)[0], i2 = r2;
  try {
    "reason" in r2 ? i2 = r2.reason : "detail" in r2 && "reason" in r2.detail && (i2 = r2.detail.reason);
  } catch (e7) {
  }
  var o2, s2 = {};
  return (s2 = null === (o2 = i2) || "object" !== n(o2) && "function" != typeof o2 ? { $exception_message: "Non-Error promise rejection captured with value: ".concat(String(i2)) } : Qn([i2])).$exception_handled = false, t(t({}, s2), {}, { $exception_type: s2.$exception_type = "UnhandledRejection", $exception_message: s2.$exception_message = s2.$exception_message || r2.reason || String(i2) });
}
var Xn;
var Zn;
var Yn;
var Kn = function() {
  function e6(t2) {
    r(this, e6), s(this, "originalOnErrorHandler", void 0), s(this, "originalOnUnhandledRejectionHandler", void 0), this.instance = t2;
  }
  return o(e6, [{ key: "startCapturing", value: function() {
    var e7;
    if (this.isEnabled() && (null === (e7 = S.onerror) || void 0 === e7 || !e7.__POSTHOG_INSTRUMENTED__))
      try {
        this.originalOnErrorHandler = S.onerror, S.onerror = function() {
          for (var e8 = arguments.length, t2 = new Array(e8), n2 = 0; n2 < e8; n2++)
            t2[n2] = arguments[n2];
          return this.captureException(t2), !!this.originalOnErrorHandler && this.originalOnErrorHandler.apply(this, t2);
        }.bind(this), S.onerror.__POSTHOG_INSTRUMENTED__ = true, this.originalOnUnhandledRejectionHandler = S.onunhandledrejection, S.onunhandledrejection = function() {
          for (var e8 = arguments.length, t2 = new Array(e8), n2 = 0; n2 < e8; n2++)
            t2[n2] = arguments[n2];
          var r2 = Jn(t2);
          return this.sendExceptionEvent(r2), !this.originalOnUnhandledRejectionHandler || this.originalOnUnhandledRejectionHandler.apply(S, t2);
        }.bind(this), S.onunhandledrejection.__POSTHOG_INSTRUMENTED__ = true;
      } catch (e8) {
        console.error("PostHog failed to start exception autocapture", e8), this.stopCapturing();
      }
  } }, { key: "stopCapturing", value: function() {
    var e7, t2;
    void 0 !== this.originalOnErrorHandler && (S.onerror = this.originalOnErrorHandler, this.originalOnErrorHandler = null), null === (e7 = S.onerror) || void 0 === e7 || delete e7.__POSTHOG_INSTRUMENTED__, void 0 !== this.originalOnUnhandledRejectionHandler && (S.onunhandledrejection = this.originalOnUnhandledRejectionHandler, this.originalOnUnhandledRejectionHandler = null), null === (t2 = S.onunhandledrejection) || void 0 === t2 || delete t2.__POSTHOG_INSTRUMENTED__;
  } }, { key: "isCapturing", value: function() {
    var e7;
    return !(null === (e7 = S.onerror) || void 0 === e7 || !e7.__POSTHOG_INSTRUMENTED__);
  } }, { key: "isEnabled", value: function() {
    var e7;
    return null !== (e7 = this.remoteEnabled) && void 0 !== e7 && e7;
  } }, { key: "afterDecideResponse", value: function(e7) {
    this.remoteEnabled = e7.autocaptureExceptions || false, this.isEnabled() && this.startCapturing();
  } }, { key: "captureException", value: function(e7, n2) {
    var r2 = Qn(e7), i2 = t(t({}, n2), r2), o2 = this.instance.config.ui_host || this.instance.config.api_host;
    r2.$exception_personURL = o2 + "/person/" + this.instance.get_distinct_id(), this.sendExceptionEvent(i2);
  } }, { key: "sendExceptionEvent", value: function(e7) {
    this.instance.capture("$exception", e7, { transport: "XHR", method: "POST", endpoint: "/e/", _noTruncate: true, _batchKey: "exceptionEvent" });
  } }]), e6;
}();
!function(e6) {
  e6[e6.INIT_MODULE = 0] = "INIT_MODULE", e6[e6.INIT_SNIPPET = 1] = "INIT_SNIPPET";
}(Xn || (Xn = {}));
var er = function() {
};
var tr = {};
var nr = "posthog";
var rr = S.XMLHttpRequest && "withCredentials" in new XMLHttpRequest();
var ir = !rr && -1 === x.indexOf("MSIE") && -1 === x.indexOf("Mozilla");
var or = function() {
  var e6, t2, n2;
  return { api_host: "https://app.posthog.com", api_method: "POST", api_transport: "XHR", ui_host: null, token: "", autocapture: true, rageclick: true, cross_subdomain_cookie: -1 === (null == E || null === (e6 = E.location) || void 0 === e6 || null === (t2 = e6.hostname) || void 0 === t2 ? void 0 : t2.indexOf("herokuapp.com")), persistence: "cookie", persistence_name: "", cookie_name: "", loaded: er, store_google: true, custom_campaign_params: [], save_referrer: true, test: false, verbose: false, capture_pageview: true, capture_pageleave: true, debug: false, cookie_expiration: 365, upgrade: false, disable_session_recording: false, disable_persistence: false, disable_cookie: false, enable_recording_console_log: void 0, secure_cookie: "https:" === (null == S || null === (n2 = S.location) || void 0 === n2 ? void 0 : n2.protocol), ip: true, opt_out_capturing_by_default: false, opt_out_persistence_by_default: false, opt_out_capturing_persistence_type: "localStorage", opt_out_capturing_cookie_prefix: null, opt_in_site_apps: false, property_blacklist: [], respect_dnt: false, sanitize_properties: null, xhr_headers: {}, inapp_protocol: "//", inapp_link_new_window: false, request_batching: true, properties_string_max_length: 65535, session_recording: { blockClass: "ph-no-capture", blockSelector: null, ignoreClass: "ph-ignore-input", maskAllInputs: true, maskInputOptions: {}, maskInputFn: null, slimDOMOptions: {}, collectFonts: false, inlineStylesheet: true }, mask_all_element_attributes: false, mask_all_text: false, advanced_disable_decide: false, advanced_disable_toolbar_metrics: false, on_xhr_error: function(e7) {
    var t3 = "Bad HTTP status: " + e7.status + " " + e7.statusText;
    console.error(t3);
  }, get_device_id: function(e7) {
    return e7;
  }, _onCapture: er, _capture_metrics: false, capture_performance: void 0, name: "posthog", callback_fn: "posthog._jsc", bootstrap: {}, disable_compression: false };
};
var sr = function(e6, t2, n2, r2) {
  var i2, o2 = n2 !== nr && Yn ? n2 ? Yn[n2] : void 0 : Yn, s2 = { initComplete: false, syncCode: false }, a2 = function(e7) {
    return function(t3) {
      s2[e7] || (s2[e7] = true, s2.initComplete && s2.syncCode && (null == r2 || r2(t3)));
    };
  };
  if (o2 && Zn === Xn.INIT_MODULE)
    i2 = o2;
  else {
    if (o2 && !D(o2))
      return void console.error("You have already initialized " + n2);
    i2 = new ar();
  }
  if (i2._init(e6, t2, n2, a2("initComplete")), i2.toolbar.maybeLoadToolbar(), i2.sessionRecording = new yt(i2), i2.sessionRecording.startRecordingIfEnabled(), i2.webPerformance = new kt(i2), i2.webPerformance.startObservingIfEnabled(), i2.exceptionAutocapture = new Kn(i2), i2.__autocapture = i2.get_config("autocapture"), Ve._setIsAutocaptureEnabled(i2), Ve._isAutocaptureEnabled) {
    i2.__autocapture = i2.get_config("autocapture");
    Ve.enabledForProject(i2.get_config("token"), 100, 100) ? Ve.isBrowserSupported() ? Ve.init(i2) : (i2.__autocapture = false, R.log("Disabling Automatic Event Collection because this browser is not supported")) : (i2.__autocapture = false, R.log("Not in active bucket: disabling Automatic Event Collection."));
  }
  return y.DEBUG = y.DEBUG || i2.get_config("debug"), void 0 !== o2 && D(o2) && (i2._execute_array.call(i2.people, o2.people), i2._execute_array(o2)), a2("syncCode")(i2), i2;
};
var ar = function() {
  function e6() {
    var t2 = this;
    r(this, e6), this.config = or(), this.compression = {}, this.decideEndpointWasHit = false, this.SentryIntegration = En, this.segmentIntegration = function() {
      return xn(t2);
    }, this.__captureHooks = [], this.__request_queue = [], this.__loaded = false, this.__loaded_recorder_version = void 0, this.__autocapture = void 0, this._jsc = function() {
    }, this.people = new it(this), this.featureFlags = new ut(this), this.feature_flags = this.featureFlags, this.toolbar = new Ot(this), this.pageViewIdManager = new On(), this._captureMetrics = void 0, this._requestQueue = void 0, this._retryQueue = void 0, this.persistence = void 0, this.sessionPersistence = void 0, this.sessionManager = void 0;
  }
  return o(e6, [{ key: "init", value: function(e7, t2, n2) {
    if (L(n2))
      console.error("You must name your new library: init(token, config, name)");
    else {
      if (n2 !== nr) {
        var r2 = sr(e7, t2, n2, function(e8) {
          Yn[n2] = e8, e8._loaded();
        });
        return Yn[n2] = r2, r2;
      }
      console.error("You must initialize the main posthog object right after you include the PostHog js snippet");
    }
  } }, { key: "_init", value: function(e7) {
    var n2, r2, i2 = this, o2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, s2 = arguments.length > 2 ? arguments[2] : void 0, a2 = arguments.length > 3 ? arguments[3] : void 0;
    this.__loaded = true, this.config = {}, this._triggered_notifs = [];
    var c2, u2 = { segmentRegister: false, syncCode: false }, l2 = function(e8) {
      return function() {
        u2[e8] || (u2[e8] = true, u2.segmentRegister && u2.syncCode && (null == a2 || a2(i2)));
      };
    };
    (this.set_config(j({}, or(), o2, { name: s2, token: e7, callback_fn: (s2 === nr ? s2 : nr + "." + s2) + "._jsc" })), this._jsc = function() {
    }, null != S && null !== (n2 = S.rrweb) && void 0 !== n2 && n2.record || null != S && S.rrwebRecord) && (this.__loaded_recorder_version = null == S || null === (c2 = S.rrweb) || void 0 === c2 ? void 0 : c2.version);
    if (this._captureMetrics = new $t(this.get_config("_capture_metrics")), this._requestQueue = new It(this._captureMetrics, this._handle_queued_event.bind(this)), this._retryQueue = new wn(this._captureMetrics, this.get_config("on_xhr_error")), this.__captureHooks = [], this.__request_queue = [], this.persistence = new Ue(this.config), this.sessionManager = new Fn(this.config, this.persistence), this.sessionPersistence = "sessionStorage" === this.config.persistence ? this.persistence : new Ue(t(t({}, this.config), {}, { persistence: "sessionStorage" })), this._gdpr_init(), o2.segment ? (this.config.get_device_id = function() {
      return o2.segment.user().anonymousId();
    }, o2.segment.user().id() && (this.register({ distinct_id: o2.segment.user().id() }), this.persistence.set_user_state("identified")), o2.segment.register(this.segmentIntegration()).then(l2("segmentRegister"))) : l2("segmentRegister")(), void 0 !== (null === (r2 = o2.bootstrap) || void 0 === r2 ? void 0 : r2.distinctID)) {
      var d2, p2, f2 = this.get_config("get_device_id")(K()), h2 = null !== (d2 = o2.bootstrap) && void 0 !== d2 && d2.isIdentifiedID ? f2 : o2.bootstrap.distinctID;
      this.persistence.set_user_state(null !== (p2 = o2.bootstrap) && void 0 !== p2 && p2.isIdentifiedID ? "identified" : "anonymous"), this.register({ distinct_id: o2.bootstrap.distinctID, $device_id: h2 });
    }
    if (this._hasBootstrappedFeatureFlags()) {
      var _2, g2, v2 = Object.keys((null === (_2 = o2.bootstrap) || void 0 === _2 ? void 0 : _2.featureFlags) || {}).filter(function(e8) {
        var t2, n3;
        return !(null === (t2 = o2.bootstrap) || void 0 === t2 || null === (n3 = t2.featureFlags) || void 0 === n3 || !n3[e8]);
      }).reduce(function(e8, t2) {
        var n3, r3;
        return e8[t2] = (null === (n3 = o2.bootstrap) || void 0 === n3 || null === (r3 = n3.featureFlags) || void 0 === r3 ? void 0 : r3[t2]) || false, e8;
      }, {}), y2 = Object.keys((null === (g2 = o2.bootstrap) || void 0 === g2 ? void 0 : g2.featureFlagPayloads) || {}).filter(function(e8) {
        return v2[e8];
      }).reduce(function(e8, t2) {
        var n3, r3, i3, s3;
        null !== (n3 = o2.bootstrap) && void 0 !== n3 && null !== (r3 = n3.featureFlagPayloads) && void 0 !== r3 && r3[t2] && (e8[t2] = null === (i3 = o2.bootstrap) || void 0 === i3 || null === (s3 = i3.featureFlagPayloads) || void 0 === s3 ? void 0 : s3[t2]);
        return e8;
      }, {});
      this.featureFlags.receivedFeatureFlags({ featureFlags: v2, featureFlagPayloads: y2 });
    }
    if (!this.get_distinct_id()) {
      var m2 = this.get_config("get_device_id")(K());
      this.register_once({ distinct_id: m2, $device_id: m2 }, ""), this.persistence.set_user_state("anonymous");
    }
    S.addEventListener && S.addEventListener("onpagehide" in self ? "pagehide" : "unload", this._handle_unload.bind(this)), l2("syncCode")();
  } }, { key: "_loaded", value: function() {
    this.featureFlags.setReloadingPaused(true);
    try {
      this.get_config("loaded")(this);
    } catch (e7) {
      console.error("`loaded` function failed", e7);
    }
    this._start_queue_if_opted_in(), this.get_config("capture_pageview") && this.capture("$pageview", {}, { send_instantly: true }), this.get_config("advanced_disable_decide") || new Ft(this).call(), this.featureFlags.resetRequestQueue(), this.featureFlags.setReloadingPaused(false);
  } }, { key: "_start_queue_if_opted_in", value: function() {
    this.has_opted_out_capturing() || this.get_config("request_batching") && this._requestQueue.poll();
  } }, { key: "_dom_loaded", value: function() {
    var e7 = this;
    this.has_opted_out_capturing() || M(this.__request_queue, function(t2) {
      e7._send_request.apply(e7, h(t2));
    }), this.__request_queue = [], this._start_queue_if_opted_in();
  } }, { key: "_prepare_callback", value: function(e7, t2) {
    if (L(e7))
      return null;
    if (rr)
      return function(n3) {
        e7(n3, t2);
      };
    var n2 = this._jsc, r2 = "" + Math.floor(1e8 * Math.random()), i2 = this.get_config("callback_fn") + "[" + r2 + "]";
    return n2[r2] = function(i3) {
      delete n2[r2], e7(i3, t2);
    }, i2;
  } }, { key: "_handle_unload", value: function() {
    this.get_config("request_batching") ? (this.get_config("capture_pageview") && this.get_config("capture_pageleave") && this.capture("$pageleave"), this.get_config("_capture_metrics") && (this._requestQueue.updateUnloadMetrics(), this.capture("$capture_metrics", this._captureMetrics.metrics)), this._requestQueue.unload(), this._retryQueue.unload()) : this.get_config("capture_pageview") && this.get_config("capture_pageleave") && this.capture("$pageleave", null, { transport: "sendBeacon" });
  } }, { key: "_handle_queued_event", value: function(e7, t2, n2) {
    var r2 = JSON.stringify(t2);
    this.__compress_and_send_json_request(e7, r2, n2 || tr, er);
  } }, { key: "__compress_and_send_json_request", value: function(e7, n2, r2, i2) {
    var o2 = function(e8, n3, r3) {
      return e8 === Qt.GZipJS ? [gn(vn(n3), { mtime: 0 }), t(t({}, r3), {}, { blob: true, urlQueryArgs: { compression: Qt.GZipJS } })] : [{ data: X(n3) }, r3];
    }(this.compression[Qt.GZipJS] ? Qt.GZipJS : Qt.Base64, n2, r2), s2 = f(o2, 2), a2 = s2[0], c2 = s2[1];
    this._send_request(e7, a2, c2, i2);
  } }, { key: "_send_request", value: function(e7, n2, r2, i2) {
    if (ir)
      this.__request_queue.push([e7, n2, r2, i2]);
    else {
      var o2 = { method: this.get_config("api_method"), transport: this.get_config("api_transport"), verbose: this.get_config("verbose") };
      r2 = j(o2, r2 || {}), rr || (r2.method = "GET");
      var s2 = "sendBeacon" in S.navigator && "sendBeacon" === r2.transport;
      if (e7 = yn(e7, r2.urlQueryArgs || {}, { ip: this.get_config("ip") }), s2)
        try {
          S.navigator.sendBeacon(e7, mn(n2, t(t({}, r2), {}, { sendBeacon: true })));
        } catch (e8) {
          this.get_config("debug") && console.error(e8);
        }
      else if (rr)
        try {
          bn({ url: e7, data: n2, headers: this.get_config("xhr_headers"), options: r2, captureMetrics: this._captureMetrics, callback: i2, retriesPerformedSoFar: 0, retryQueue: this._retryQueue, onXHRError: this.get_config("on_xhr_error") });
        } catch (e8) {
          console.error(e8);
        }
      else {
        var a2, c2 = E.createElement("script");
        c2.type = "text/javascript", c2.async = true, c2.defer = true, c2.src = e7;
        var u2 = E.getElementsByTagName("script")[0];
        null === (a2 = u2.parentNode) || void 0 === a2 || a2.insertBefore(c2, u2);
      }
    }
  } }, { key: "_execute_array", value: function(e7) {
    var t2, n2 = this, r2 = [], i2 = [], o2 = [];
    M(e7, function(e8) {
      e8 && (t2 = e8[0], D(t2) ? o2.push(e8) : "function" == typeof e8 ? e8.call(n2) : D(e8) && "alias" === t2 ? r2.push(e8) : D(e8) && -1 !== t2.indexOf("capture") && "function" == typeof n2[t2] ? o2.push(e8) : i2.push(e8));
    });
    var s2 = function(e8, t3) {
      M(e8, function(e9) {
        if (D(e9[0])) {
          var n3 = t3;
          C(e9, function(e10) {
            n3 = n3[e10[0]].apply(n3, e10.slice(1));
          });
        } else
          this[e9[0]].apply(this, e9.slice(1));
      }, t3);
    };
    s2(r2, this), s2(i2, this), s2(o2, this);
  } }, { key: "_hasBootstrappedFeatureFlags", value: function() {
    var e7, t2;
    return (null === (e7 = this.config.bootstrap) || void 0 === e7 ? void 0 : e7.featureFlags) && Object.keys(null === (t2 = this.config.bootstrap) || void 0 === t2 ? void 0 : t2.featureFlags).length > 0 || false;
  } }, { key: "push", value: function(e7) {
    this._execute_array([e7]);
  } }, { key: "captureException", value: function(e7, t2) {
    var n2;
    null === (n2 = this.exceptionAutocapture) || void 0 === n2 || n2.captureException([e7.name, void 0, void 0, void 0, e7], t2);
  } }, { key: "capture", value: function(e7, t2) {
    var n2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : tr;
    if (this.__loaded && !tt(this, false)) {
      this._captureMetrics.incr("capture"), "$snapshot" === e7 && this._captureMetrics.incr("snapshot");
      var r2 = (n2 = n2 || tr).transport;
      if (r2 && (n2.transport = r2), L(e7) || "string" != typeof e7)
        console.error("No event name provided to posthog.capture");
      else if (!ee(x)) {
        this.sessionPersistence.update_search_keyword(), this.get_config("store_google") && this.sessionPersistence.update_campaign_params(), this.get_config("save_referrer") && this.sessionPersistence.update_referrer_info();
        var i2 = { event: e7, properties: this._calculate_event_properties(e7, t2 || {}) };
        "$identify" === e7 && (i2.$set = n2.$set, i2.$set_once = n2.$set_once), (i2 = J(i2, n2._noTruncate ? null : this.get_config("properties_string_max_length"))).timestamp = n2.timestamp || new Date(), this.get_config("debug") && R.log("PostHog.js send", i2);
        var o2 = JSON.stringify(i2), s2 = this.get_config("api_host") + (n2.endpoint || "/e/"), a2 = n2 !== tr;
        return !this.get_config("request_batching") || a2 && !n2._batchKey || n2.send_instantly ? this.__compress_and_send_json_request(s2, o2, n2) : this._requestQueue.enqueue(s2, i2, n2), this._invokeCaptureHooks(e7, i2), i2;
      }
    }
  } }, { key: "_addCaptureHook", value: function(e7) {
    this.__captureHooks.push(e7);
  } }, { key: "_invokeCaptureHooks", value: function(e7, t2) {
    this.config._onCapture(e7, t2), C(this.__captureHooks, function(t3) {
      return t3(e7);
    });
  } }, { key: "_calculate_event_properties", value: function(e7, n2) {
    var r2, i2 = this.persistence.remove_event_timer(e7), o2 = t({}, n2);
    if (o2.token = this.get_config("token"), "$snapshot" === e7) {
      var s2 = t(t({}, this.persistence.properties()), this.sessionPersistence.properties());
      return o2.distinct_id = s2.distinct_id, o2;
    }
    var a2 = oe.properties();
    if (this.sessionManager) {
      var c2 = this.sessionManager.checkAndGetSessionAndWindowId(), u2 = c2.sessionId, l2 = c2.windowId;
      o2.$session_id = u2, o2.$window_id = l2;
    }
    if (null !== (r2 = this.webPerformance) && void 0 !== r2 && r2.isEnabled && ("$pageview" === e7 && this.pageViewIdManager.onPageview(), o2 = j(o2, { $pageview_id: this.pageViewIdManager.getPageViewId() })), "$performance_event" === e7) {
      var d2 = this.persistence.properties();
      return o2.distinct_id = d2.distinct_id, o2.$current_url = a2.$current_url, o2;
    }
    if (void 0 !== i2) {
      var p2 = new Date().getTime() - i2;
      o2.$duration = parseFloat((p2 / 1e3).toFixed(3));
    }
    o2 = j({}, oe.properties(), this.persistence.properties(), this.sessionPersistence.properties(), o2);
    var f2 = this.get_config("property_blacklist");
    D(f2) ? C(f2, function(e8) {
      delete o2[e8];
    }) : console.error("Invalid value for property_blacklist config: " + f2);
    var h2 = this.get_config("sanitize_properties");
    return h2 && (o2 = h2(o2, e7)), o2;
  } }, { key: "register", value: function(e7, t2) {
    this.persistence.register(e7, t2);
  } }, { key: "register_once", value: function(e7, t2, n2) {
    this.persistence.register_once(e7, t2, n2);
  } }, { key: "register_for_session", value: function(e7) {
    this.sessionPersistence.register(e7);
  } }, { key: "unregister", value: function(e7) {
    this.persistence.unregister(e7);
  } }, { key: "unregister_for_session", value: function(e7) {
    this.sessionPersistence.unregister(e7);
  } }, { key: "_register_single", value: function(e7, t2) {
    this.register(s({}, e7, t2));
  } }, { key: "getFeatureFlag", value: function(e7, t2) {
    return this.featureFlags.getFeatureFlag(e7, t2);
  } }, { key: "getFeatureFlagPayload", value: function(e7) {
    var t2 = this.featureFlags.getFeatureFlagPayload(e7);
    try {
      return JSON.parse(t2);
    } catch (e8) {
      return t2;
    }
  } }, { key: "isFeatureEnabled", value: function(e7, t2) {
    return this.featureFlags.isFeatureEnabled(e7, t2);
  } }, { key: "reloadFeatureFlags", value: function() {
    this.featureFlags.reloadFeatureFlags();
  } }, { key: "updateEarlyAccessFeatureEnrollment", value: function(e7, t2) {
    this.featureFlags.updateEarlyAccessFeatureEnrollment(e7, t2);
  } }, { key: "getEarlyAccessFeatures", value: function(e7) {
    var t2 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
    return this.featureFlags.getEarlyAccessFeatures(e7, t2);
  } }, { key: "onFeatureFlags", value: function(e7) {
    return this.featureFlags.onFeatureFlags(e7);
  } }, { key: "identify", value: function(e7, t2, n2) {
    if (e7) {
      this._captureMetrics.incr("identify");
      var r2 = this.get_distinct_id();
      if (this.register({ $user_id: e7 }), !this.get_property("$device_id")) {
        var i2 = r2;
        this.register_once({ $had_persisted_distinct_id: true, $device_id: i2 }, "");
      }
      e7 !== r2 && e7 !== this.get_property(Ie) && (this.unregister(Ie), this.register({ distinct_id: e7 }));
      var o2 = "anonymous" === this.persistence.get_user_state();
      e7 !== r2 && o2 ? (this.persistence.set_user_state("identified"), this.capture("$identify", { distinct_id: e7, $anon_distinct_id: r2 }, { $set: t2 || {}, $set_once: n2 || {} }), this.featureFlags.setAnonymousDistinctId(r2)) : (t2 && this.people.set(t2), n2 && this.people.set_once(n2)), e7 !== r2 && this.reloadFeatureFlags();
    } else
      console.error("Unique user id has not been set in posthog.identify");
  } }, { key: "group", value: function(e7, n2, r2) {
    if (e7 && n2) {
      this._captureMetrics.incr("group");
      var i2 = this.getGroups();
      i2[e7] !== n2 && this.resetGroupPropertiesForFlags(e7), this.register({ $groups: t(t({}, i2), {}, s({}, e7, n2)) }), r2 && (this.capture("$groupidentify", { $group_type: e7, $group_key: n2, $group_set: r2 }), this.setGroupPropertiesForFlags(s({}, e7, r2))), i2[e7] === n2 || r2 || this.reloadFeatureFlags();
    } else
      console.error("posthog.group requires a group type and group key");
  } }, { key: "resetGroups", value: function() {
    this.register({ $groups: {} }), this.resetGroupPropertiesForFlags(), this.reloadFeatureFlags();
  } }, { key: "setPersonPropertiesForFlags", value: function(e7) {
    var t2 = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
    this.featureFlags.setPersonPropertiesForFlags(e7, t2);
  } }, { key: "resetPersonPropertiesForFlags", value: function() {
    this.featureFlags.resetPersonPropertiesForFlags();
  } }, { key: "setGroupPropertiesForFlags", value: function(e7) {
    var t2 = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
    this.featureFlags.setGroupPropertiesForFlags(e7, t2);
  } }, { key: "resetGroupPropertiesForFlags", value: function(e7) {
    this.featureFlags.resetGroupPropertiesForFlags(e7);
  } }, { key: "reset", value: function(e7) {
    var t2 = this.get_property("$device_id");
    this.persistence.clear(), this.sessionPersistence.clear(), this.persistence.set_user_state("anonymous"), this.sessionManager.resetSessionId();
    var n2 = this.get_config("get_device_id")(K());
    this.register_once({ distinct_id: n2, $device_id: e7 ? n2 : t2 }, "");
  } }, { key: "get_distinct_id", value: function() {
    return this.get_property("distinct_id");
  } }, { key: "getGroups", value: function() {
    return this.get_property("$groups") || {};
  } }, { key: "get_session_id", value: function() {
    return this.sessionManager.checkAndGetSessionAndWindowId(true).sessionId;
  } }, { key: "get_session_replay_url", value: function(e7) {
    var t2 = (this.config.ui_host || this.config.api_host) + "/replay/" + this.get_session_id();
    if (null != e7 && e7.withTimestamp && this.sessionManager._sessionStartTimestamp) {
      var n2, r2 = null !== (n2 = e7.timestampLookBack) && void 0 !== n2 ? n2 : 10;
      if (!this.sessionManager._sessionStartTimestamp)
        return t2;
      var i2 = Math.max(Math.floor((new Date().getTime() - (this.sessionManager._sessionStartTimestamp || 0)) / 1e3) - r2, 0);
      t2 += "?t=".concat(i2);
    }
    return t2;
  } }, { key: "alias", value: function(e7, t2) {
    return e7 === this.get_property(Pe) ? (R.critical("Attempting to create alias for existing People user - aborting."), -2) : (L(t2) && (t2 = this.get_distinct_id()), e7 !== t2 ? (this._register_single(Ie, e7), this.capture("$create_alias", { alias: e7, distinct_id: t2 })) : (console.error("alias matches current distinct_id - skipping api call."), this.identify(e7), -1));
  } }, { key: "set_config", value: function(e7) {
    var n2 = t({}, this.config);
    H(e7) && (j(this.config, e7), this.get_config("persistence_name") || (this.config.persistence_name = this.config.cookie_name), this.get_config("disable_persistence") || (this.config.disable_persistence = this.config.disable_cookie), this.persistence && this.persistence.update_config(this.config), this.sessionPersistence && this.sessionPersistence.update_config(this.config), ke.is_supported() && "true" === ke.get("ph_debug") && (this.config.debug = true), this.get_config("debug") && (y.DEBUG = true), this.sessionRecording && void 0 !== e7.disable_session_recording && n2.disable_session_recording !== e7.disable_session_recording && (e7.disable_session_recording ? this.sessionRecording.stopRecording() : this.sessionRecording.startRecordingIfEnabled()));
  } }, { key: "startSessionRecording", value: function() {
    this.set_config({ disable_session_recording: false });
  } }, { key: "stopSessionRecording", value: function() {
    this.set_config({ disable_session_recording: true });
  } }, { key: "sessionRecordingStarted", value: function() {
    var e7;
    return !(null === (e7 = this.sessionRecording) || void 0 === e7 || !e7.started());
  } }, { key: "loadToolbar", value: function(e7) {
    return this.toolbar.loadToolbar(e7);
  } }, { key: "get_config", value: function(e7) {
    var t2;
    return null === (t2 = this.config) || void 0 === t2 ? void 0 : t2[e7];
  } }, { key: "get_property", value: function(e7) {
    return this.persistence.props[e7];
  } }, { key: "getSessionProperty", value: function(e7) {
    return this.sessionPersistence.props[e7];
  } }, { key: "toString", value: function() {
    var e7, t2 = null !== (e7 = this.get_config("name")) && void 0 !== e7 ? e7 : nr;
    return t2 !== nr && (t2 = nr + "." + t2), t2;
  } }, { key: "_gdpr_init", value: function() {
    "localStorage" === this.get_config("opt_out_capturing_persistence_type") && ke.is_supported() && (!this.has_opted_in_capturing() && this.has_opted_in_capturing({ persistence_type: "cookie" }) && this.opt_in_capturing({ enable_persistence: false }), !this.has_opted_out_capturing() && this.has_opted_out_capturing({ persistence_type: "cookie" }) && this.opt_out_capturing({ clear_persistence: false }), this.clear_opt_in_out_capturing({ persistence_type: "cookie", enable_persistence: false })), this.has_opted_out_capturing() ? this._gdpr_update_persistence({ clear_persistence: true }) : this.has_opted_in_capturing() || !this.get_config("opt_out_capturing_by_default") && !be.get("ph_optout") || (be.remove("ph_optout"), this.opt_out_capturing({ clear_persistence: this.get_config("opt_out_persistence_by_default") }));
  } }, { key: "_gdpr_update_persistence", value: function(e7) {
    var t2;
    if (e7 && e7.clear_persistence)
      t2 = true;
    else {
      if (!e7 || !e7.enable_persistence)
        return;
      t2 = false;
    }
    this.get_config("disable_persistence") || this.persistence.disabled === t2 || this.persistence.set_disabled(t2), this.get_config("disable_persistence") || this.sessionPersistence.disabled === t2 || this.sessionPersistence.set_disabled(t2);
  } }, { key: "_gdpr_call_func", value: function(e7, t2) {
    return t2 = j({ capture: this.capture.bind(this), persistence_type: this.get_config("opt_out_capturing_persistence_type"), cookie_prefix: this.get_config("opt_out_capturing_cookie_prefix"), cookie_expiration: this.get_config("cookie_expiration"), cross_subdomain_cookie: this.get_config("cross_subdomain_cookie"), secure_cookie: this.get_config("secure_cookie") }, t2 || {}), ke.is_supported() || "localStorage" !== t2.persistence_type || (t2.persistence_type = "cookie"), e7(this.get_config("token"), { capture: t2.capture, captureEventName: t2.capture_event_name, captureProperties: t2.capture_properties, persistenceType: t2.persistence_type, persistencePrefix: t2.cookie_prefix, cookieExpiration: t2.cookie_expiration, crossSubdomainCookie: t2.cross_subdomain_cookie, secureCookie: t2.secure_cookie });
  } }, { key: "opt_in_capturing", value: function(e7) {
    e7 = j({ enable_persistence: true }, e7 || {}), this._gdpr_call_func(We, e7), this._gdpr_update_persistence(e7);
  } }, { key: "opt_out_capturing", value: function(e7) {
    var t2 = j({ clear_persistence: true }, e7 || {});
    this._gdpr_call_func(ze, t2), this._gdpr_update_persistence(t2);
  } }, { key: "has_opted_in_capturing", value: function(e7) {
    return this._gdpr_call_func(Qe, e7);
  } }, { key: "has_opted_out_capturing", value: function(e7) {
    return this._gdpr_call_func(Je, e7);
  } }, { key: "clear_opt_in_out_capturing", value: function(e7) {
    var t2 = j({ enable_persistence: true }, null != e7 ? e7 : {});
    this._gdpr_call_func(Xe, t2), this._gdpr_update_persistence(t2);
  } }, { key: "debug", value: function(e7) {
    false === e7 ? (S.console.log("You've disabled debug mode."), localStorage && localStorage.removeItem("ph_debug"), this.set_config({ debug: false })) : (S.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."), localStorage && localStorage.setItem("ph_debug", "true"), this.set_config({ debug: true }));
  } }]), e6;
}();
!function(e6, t2) {
  for (var n2 = 0; n2 < t2.length; n2++)
    e6.prototype[t2[n2]] = W(e6.prototype[t2[n2]]);
}(ar, ["identify"]);
var cr = {};
var ur = function() {
  Yn.init = function(e6, t2, n2) {
    if (n2)
      return Yn[n2] || (Yn[n2] = cr[n2] = sr(e6 || "", t2 || {}, n2, function(e7) {
        Yn[n2] = cr[n2] = e7, e7._loaded();
      })), Yn[n2];
    var r2 = Yn;
    return cr[nr] ? r2 = cr[nr] : e6 && (r2 = sr(e6, t2 || {}, nr, function(e7) {
      cr[nr] = e7, e7._loaded();
    }), cr[nr] = r2), Yn = r2, Zn === Xn.INIT_SNIPPET && (S[nr] = Yn), C(cr, function(e7, t3) {
      t3 !== nr && (Yn[t3] = e7);
    }), r2;
  };
};
var lr = function() {
  function e6() {
    e6.done || (e6.done = true, ir = false, C(cr, function(e7) {
      e7._dom_loaded();
    }));
  }
  E.addEventListener && ("complete" === E.readyState ? e6() : E.addEventListener("DOMContentLoaded", e6, false)), re(S, "load", e6, true);
};
var dr = (Zn = Xn.INIT_MODULE, Yn = new ar(), ur(), Yn.init(), lr(), Yn);

// dep:posthog-js
var posthog_js_default = dr;
export {
  Qt as Compression,
  ar as PostHog,
  posthog_js_default as default,
  dr as posthog
};
//# sourceMappingURL=posthog-js.js.map
